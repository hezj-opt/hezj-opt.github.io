<!DOCTYPE html><html lang="zh-CN" id="theme-light-mode"><head><!-- hexo injector head_begin start --><link href="/css/hexo-widget-tree.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="核子"><title>《Introduction to Programming with C++》读书笔记 · 核子的Blog</title><meta name="description" content="Contents of this book (Chapter 1-16)
Chapter 2

const
limits
time(0)
static_cast


Chapter 3

bool
rand and srand


Chapter 4

Mathematical Functions
"><meta name="keywords" content="Blog,博客,Hexo"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="shortcut icon" type="image/x-icon" href="/images/mylogo.webp"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/insight.css"><link rel="stylesheet" href="/css/search.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div class="page-top animated fadeInDown"><div class="nav"><li> <a href="/">首页</a></li><li> <a href="/archives">归档</a></li><li> <a href="/categories">分类</a></li><li> <a href="/tags">标签</a></li><li> <a href="/about">关于</a></li><li> <a href="/links">友链</a></li></div><div class="information"><div class="nav_right_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li><li><a class="fa fa-search" onclick="openWindow();"></a></li></div><div class="avatar"><img src="/images/mylogo.webp"></div></div></div><div class="sidebar animated fadeInDown"><div class="sidebar-top"><div class="logo-title"><div class="title"><img src="/images/mylogo.webp" style="width:220px;" alt="favicon"><h3 title=""><a href="/">核子的Blog</a></h3><div class="description"><p>A simple blog</p></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/hezj-opt"><i class="fa fa-github"></i></a></li><li><a href="mailto:zijun_he@zju.edu.cn"><i class="fa fa-envelope"></i></a></li></ul></div><details class="ltr" open><summary>目录</summary><div class="tocmenu"><p><ol class="toclist"><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#contents-of-this-book-chapter-1-16"><span class="toclist-number">1.</span> <span class="toclist-text">Contents of this book (Chapter 1-16)</span></a></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#chapter-2"><span class="toclist-number">2.</span> <span class="toclist-text">Chapter 2</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#const"><span class="toclist-number">2.1.</span> <span class="toclist-text">const</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#limits"><span class="toclist-number">2.2.</span> <span class="toclist-text">limits</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#time-0"><span class="toclist-number">2.3.</span> <span class="toclist-text">time(0)</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#static-cast"><span class="toclist-number">2.4.</span> <span class="toclist-text">static_cast</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#chapter-3"><span class="toclist-number">3.</span> <span class="toclist-text">Chapter 3</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#bool"><span class="toclist-number">3.1.</span> <span class="toclist-text">bool</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#rand-and-srand"><span class="toclist-number">3.2.</span> <span class="toclist-text">rand and srand</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#chapter-4"><span class="toclist-number">4.</span> <span class="toclist-text">Chapter 4</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#mathematical-functions"><span class="toclist-number">4.1.</span> <span class="toclist-text">Mathematical Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#character-functions"><span class="toclist-number">4.2.</span> <span class="toclist-text">Character Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#string"><span class="toclist-number">4.3.</span> <span class="toclist-text">string</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#string-ji-chu"><span class="toclist-number">4.3.1.</span> <span class="toclist-text">string 基础</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#string-pin-jie"><span class="toclist-number">4.3.2.</span> <span class="toclist-text">string 拼接</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#bi-jiao-da-xiao-an-ascii-ma-yi-ci-bi-jiao"><span class="toclist-number">4.3.3.</span> <span class="toclist-text">比较大小：按ASCII码依次比较</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#string-du-ru"><span class="toclist-number">4.3.4.</span> <span class="toclist-text">string读入</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#cout-jin-jie"><span class="toclist-number">4.4.</span> <span class="toclist-text">cout 进阶</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#setprecision-n"><span class="toclist-number">4.4.1.</span> <span class="toclist-text">setprecision(n)</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#fixed"><span class="toclist-number">4.4.2.</span> <span class="toclist-text">fixed</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#showpoint"><span class="toclist-number">4.4.3.</span> <span class="toclist-text">showpoint</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#setw-width"><span class="toclist-number">4.4.4.</span> <span class="toclist-text">setw(width)</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#left-and-right"><span class="toclist-number">4.4.5.</span> <span class="toclist-text">left and right</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#simple-file-input-and-output"><span class="toclist-number">4.5.</span> <span class="toclist-text">simple file input and output</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#write-file"><span class="toclist-number">4.5.1.</span> <span class="toclist-text">write file</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#read-file"><span class="toclist-number">4.5.2.</span> <span class="toclist-text">read file</span></a></li></ol></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#chapter-6"><span class="toclist-number">5.</span> <span class="toclist-text">Chapter 6</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overloading-functions"><span class="toclist-number">5.1.</span> <span class="toclist-text">overloading functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#function-prototype"><span class="toclist-number">5.2.</span> <span class="toclist-text">function prototype</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#default-arguments"><span class="toclist-number">5.3.</span> <span class="toclist-text">default arguments</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#constant-reference-parameters"><span class="toclist-number">5.4.</span> <span class="toclist-text">constant reference parameters</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#chapter-7"><span class="toclist-number">6.</span> <span class="toclist-text">Chapter 7</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#passing-arrays-to-functions"><span class="toclist-number">6.1.</span> <span class="toclist-text">Passing arrays to functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#preventing-changes-of-array-arguments-in-functions"><span class="toclist-number">6.2.</span> <span class="toclist-text">Preventing changes of array arguments in functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#return-an-array"><span class="toclist-number">6.3.</span> <span class="toclist-text">return an array</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#chapter-8"><span class="toclist-number">7.</span> <span class="toclist-text">Chapter 8</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#passing-two-dimensional-arrays-to-functions"><span class="toclist-number">7.1.</span> <span class="toclist-text">Passing two-dimensional arrays to functions</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#object-and-class"><span class="toclist-number">8.</span> <span class="toclist-text">Object and Class</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#defining-classes-and-creating-objects"><span class="toclist-number">8.1.</span> <span class="toclist-text">Defining Classes and Creating Objects</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#code"><span class="toclist-number">8.1.1.</span> <span class="toclist-text">code</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#uml-notation"><span class="toclist-number">8.1.2.</span> <span class="toclist-text">UML notation</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#constructors"><span class="toclist-number">8.2.</span> <span class="toclist-text">Constructors</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#peculiarities"><span class="toclist-number">8.2.1.</span> <span class="toclist-text">Peculiarities</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#constructor-initializer-list"><span class="toclist-number">8.3.</span> <span class="toclist-text">Constructor initializer list</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#construction-and-using-objects"><span class="toclist-number">8.4.</span> <span class="toclist-text">Construction and Using Objects</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#basics"><span class="toclist-number">8.4.1.</span> <span class="toclist-text">basics</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#object-size"><span class="toclist-number">8.4.2.</span> <span class="toclist-text">object size</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#separating-class-definition-from-implementation"><span class="toclist-number">8.5.</span> <span class="toclist-text">Separating Class Definition from implementation</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#inline-functions-in-classes"><span class="toclist-number">8.6.</span> <span class="toclist-text">Inline Functions in Classes</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#data-field-encapsulation"><span class="toclist-number">8.7.</span> <span class="toclist-text">Data Field Encapsulation</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#object-oriented-thinking"><span class="toclist-number">9.</span> <span class="toclist-text">Object-Oriented Thinking</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#passing-objects-to-functions"><span class="toclist-number">9.1.</span> <span class="toclist-text">Passing Objects to Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#array-of-objects"><span class="toclist-number">9.2.</span> <span class="toclist-text">Array of Objects</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#instance-and-static-members"><span class="toclist-number">9.3.</span> <span class="toclist-text">Instance and Static Members</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#uml-graph"><span class="toclist-number">9.3.1.</span> <span class="toclist-text">UML graph</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#using-of-static-members-functions"><span class="toclist-number">9.3.2.</span> <span class="toclist-text">Using of static members&#x2F;functions</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#constant-member-functions"><span class="toclist-number">9.4.</span> <span class="toclist-text">Constant Member Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#object-composition"><span class="toclist-number">9.5.</span> <span class="toclist-text">Object Composition</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#aggregation-and-composition"><span class="toclist-number">9.5.1.</span> <span class="toclist-text">Aggregation and composition</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#uml-graph-1"><span class="toclist-number">9.5.2.</span> <span class="toclist-text">UML graph</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#thinking-in-objects"><span class="toclist-number">9.6.</span> <span class="toclist-text">Thinking in Objects</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#class-design-guidelines"><span class="toclist-number">9.7.</span> <span class="toclist-text">Class Design Guidelines</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#pointers-and-dynamic-memory-management"><span class="toclist-number">10.</span> <span class="toclist-text">Pointers and Dynamic memory management</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#using-const-with-pointers"><span class="toclist-number">10.1.</span> <span class="toclist-text">Using const with Pointers</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#passing-pointer-arguments-in-a-function-call"><span class="toclist-number">10.2.</span> <span class="toclist-text">Passing Pointer Arguments in a Function Call</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#returning-a-pointer-from-functions"><span class="toclist-number">10.3.</span> <span class="toclist-text">Returning a Pointer from Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#useful-array-functions"><span class="toclist-number">10.4.</span> <span class="toclist-text">Useful Array Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#dynamic-persistent-memory-allocation"><span class="toclist-number">10.5.</span> <span class="toclist-text">Dynamic Persistent Memory Allocation</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#allocation"><span class="toclist-number">10.5.1.</span> <span class="toclist-text">Allocation</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#delete"><span class="toclist-number">10.5.2.</span> <span class="toclist-text">Delete</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#the-this-pointer"><span class="toclist-number">10.6.</span> <span class="toclist-text">The this Pointer</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#destructors"><span class="toclist-number">10.7.</span> <span class="toclist-text">Destructors</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#copy-constructors"><span class="toclist-number">10.8.</span> <span class="toclist-text">Copy Constructors</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#shallow-copy"><span class="toclist-number">10.8.1.</span> <span class="toclist-text">Shallow Copy</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#deep-copy"><span class="toclist-number">10.8.2.</span> <span class="toclist-text">Deep Copy</span></a></li></ol></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#inheritance-and-polymorphism"><span class="toclist-number">11.</span> <span class="toclist-text">Inheritance and Polymorphism</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#base-classes-and-derived-classes"><span class="toclist-number">11.1.</span> <span class="toclist-text">Base Classes and Derived Classes</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#uml-graph-2"><span class="toclist-number">11.1.1.</span> <span class="toclist-text">UML graph</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#syntax"><span class="toclist-number">11.1.2.</span> <span class="toclist-text">Syntax</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#generic-programming"><span class="toclist-number">11.2.</span> <span class="toclist-text">Generic Programming</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#constructors-and-destructors"><span class="toclist-number">11.3.</span> <span class="toclist-text">Constructors and Destructors</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#calling-base-class-constructors"><span class="toclist-number">11.3.1.</span> <span class="toclist-text">Calling Base Class Constructors</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#constructor-and-destructor-chaining"><span class="toclist-number">11.3.2.</span> <span class="toclist-text">Constructor and Destructor Chaining</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#redefining-functions"><span class="toclist-number">11.4.</span> <span class="toclist-text">Redefining Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#polymorphism"><span class="toclist-number">11.5.</span> <span class="toclist-text">Polymorphism</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#virtual-functions-and-dynamic-binding"><span class="toclist-number">11.6.</span> <span class="toclist-text">Virtual Functions and Dynamic Binding</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#the-protected-keyword"><span class="toclist-number">11.7.</span> <span class="toclist-text">The protected keyword</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#abstract-classes-and-pure-virtual-functions"><span class="toclist-number">11.8.</span> <span class="toclist-text">Abstract Classes and Pure Virtual Functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#casting-static-cast-versus-dynamic-cast"><span class="toclist-number">11.9.</span> <span class="toclist-text">Casting: static_cast versus dynamic_cast</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#example-geometricobject-circle-rectangle"><span class="toclist-number">11.10.</span> <span class="toclist-text">Example: GeometricObject, Circle, Rectangle</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#templates-vectors-stacks"><span class="toclist-number">12.</span> <span class="toclist-text">Templates, Vectors, Stacks</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#templates-basics"><span class="toclist-number">12.1.</span> <span class="toclist-text">Templates Basics</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#class-templates"><span class="toclist-number">12.2.</span> <span class="toclist-text">Class Templates</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#vector-class"><span class="toclist-number">12.3.</span> <span class="toclist-text">vector Class</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#operator-overloading"><span class="toclist-number">13.</span> <span class="toclist-text">Operator Overloading</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#the-rational-class-for-this-chapter"><span class="toclist-number">13.1.</span> <span class="toclist-text">The Rational Class for this chapter</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#operator-functions"><span class="toclist-number">13.2.</span> <span class="toclist-text">Operator functions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overloading-the-subscript-operator"><span class="toclist-number">13.3.</span> <span class="toclist-text">Overloading the Subscript Operator</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overloading-augmented-assignment-operator"><span class="toclist-number">13.4.</span> <span class="toclist-text">Overloading Augmented Assignment Operator</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overloading-the-unary-operator"><span class="toclist-number">13.5.</span> <span class="toclist-text">Overloading the Unary Operator</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overloading-the-and-operator"><span class="toclist-number">13.6.</span> <span class="toclist-text">Overloading the ++ and – Operator</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overloading-the-stream-operator"><span class="toclist-number">13.7.</span> <span class="toclist-text">Overloading the Stream Operator</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#friend-functions-and-friend-classes"><span class="toclist-number">13.7.1.</span> <span class="toclist-text">friend Functions and friend Classes</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#overloading-and"><span class="toclist-number">13.7.2.</span> <span class="toclist-text">Overloading &lt;&lt; and &gt;&gt;</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#automatic-type-conversions"><span class="toclist-number">13.8.</span> <span class="toclist-text">Automatic Type Conversions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#nonmember-functions-for-overloading-operators"><span class="toclist-number">13.9.</span> <span class="toclist-text">Nonmember Functions for Overloading Operators</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overloading-the-operators"><span class="toclist-number">13.10.</span> <span class="toclist-text">Overloading the &#x3D; Operators</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#the-rational-class-with-overloaded-function-operators"><span class="toclist-number">13.11.</span> <span class="toclist-text">The Rational Class with Overloaded Function Operators</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#note-points-for-operator-overloading"><span class="toclist-number">13.12.</span> <span class="toclist-text">Note Points for Operator Overloading</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#file-input-and-output"><span class="toclist-number">14.</span> <span class="toclist-text">File Input and Output</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#text-i-o"><span class="toclist-number">14.1.</span> <span class="toclist-text">Text I&#x2F;O</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#writing-data-to-file"><span class="toclist-number">14.1.1.</span> <span class="toclist-text">Writing Data to File</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#reading-data-from-file"><span class="toclist-number">14.1.2.</span> <span class="toclist-text">Reading Data from File</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#testing-file-existence"><span class="toclist-number">14.1.3.</span> <span class="toclist-text">Testing File Existence</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#testing-end-of-file"><span class="toclist-number">14.1.4.</span> <span class="toclist-text">Testing End of File</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#letting-the-user-enter-a-file-name"><span class="toclist-number">14.1.5.</span> <span class="toclist-text">Letting the User Enter a File name</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#formatting-output"><span class="toclist-number">14.2.</span> <span class="toclist-text">Formatting Output</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#getline-get-and-put"><span class="toclist-number">14.3.</span> <span class="toclist-text">getline, get and put</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#fstream-and-file-open-modes"><span class="toclist-number">14.4.</span> <span class="toclist-text">fstream and File Open Modes</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#testing-stream-states"><span class="toclist-number">14.5.</span> <span class="toclist-text">Testing Stream States</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#binary-i-o"><span class="toclist-number">14.6.</span> <span class="toclist-text">Binary I&#x2F;O</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#the-write-function"><span class="toclist-number">14.6.1.</span> <span class="toclist-text">The write Function</span></a></li><li class="toclist-item toclist-level-3"><a class="toclist-link" href="#the-read-function"><span class="toclist-number">14.6.2.</span> <span class="toclist-text">The read Function</span></a></li></ol></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#random-access-file"><span class="toclist-number">14.7.</span> <span class="toclist-text">Random Access File</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#updating-files"><span class="toclist-number">14.8.</span> <span class="toclist-text">Updating Files</span></a></li></ol></li><li class="toclist-item toclist-level-1"><a class="toclist-link" href="#exception-handling"><span class="toclist-number">15.</span> <span class="toclist-text">Exception Handling</span></a><ol class="toclist-child"><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#overview"><span class="toclist-number">15.1.</span> <span class="toclist-text">Overview</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#advantages-of-excpetion-handling"><span class="toclist-number">15.2.</span> <span class="toclist-text">Advantages of Excpetion-Handling</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#exception-classes"><span class="toclist-number">15.3.</span> <span class="toclist-text">Exception Classes</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#custom-exception-classes"><span class="toclist-number">15.4.</span> <span class="toclist-text">Custom Exception Classes</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#multiple-catches"><span class="toclist-number">15.5.</span> <span class="toclist-text">Multiple Catches</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#exception-propagation"><span class="toclist-number">15.6.</span> <span class="toclist-text">Exception Propagation</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#rethrowing-exceptions"><span class="toclist-number">15.7.</span> <span class="toclist-text">Rethrowing Exceptions</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#exception-specification"><span class="toclist-number">15.8.</span> <span class="toclist-text">Exception Specification</span></a></li><li class="toclist-item toclist-level-2"><a class="toclist-link" href="#when-to-use-exceptions"><span class="toclist-number">15.9.</span> <span class="toclist-text">When to use Exceptions</span></a></li></ol></li></ol></p></div></details></div><div class="footer"><div class="p"> <span> 全站CC-BY-SA-3.0 </span><i class="fa fa-star"></i><span> 核子</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/zh-cn/" target="_blank">Hexo </a><span> & </span><span>Anatolo </span></div><div class="beian"></div></div></div><div class="main"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>《Introduction to Programming with C++》读书笔记</a></h3></div><div class="post-content"><p>
<p>💡  本文档记录了笔者2022年暑假啃《Introduction to Programming with C++》这本书自学C++基础的笔记</p>
<h1 tabindex="-1"><span id="contents-of-this-book-chapter-1-16">Contents of this book (Chapter 1-16)</span><a href="#contents-of-this-book-chapter-1-16" class="header-anchor">#</a></h1>
<img src="1659288447950-46d1260e-6681-4aaf-b766-d2a0731186f6.jpeg" style="zoom: 67%;">
<hr>
<h1 tabindex="-1"><span id="chapter-2">Chapter 2</span><a href="#chapter-2" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="const">const</span><a href="#const" class="header-anchor">#</a></h2>
<p><code>const double PI = 3.14159 // PI值不变，常量命名为全大写</code></p>
<h2 tabindex="-1"><span id="limits">limits</span><a href="#limits" class="header-anchor">#</a></h2>
<p><code>#include&lt;limits&gt;</code></p>
<p>内有各种变量类型的上限、下限</p>
<p>e.g <code>INT_MAX = 2147483647</code></p>
<h2 tabindex="-1"><span id="time-0">time(0)</span><a href="#time-0" class="header-anchor">#</a></h2>
<p>需要 <code>#include&lt;ctime&gt;</code></p>
<p>显示当前时间距离1970.1.1 00:00:00 有多少秒</p>
<p>显示当前时间</p>
<h2 tabindex="-1"><span id="static-cast">static_cast</span><a href="#static-cast" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        static_cast demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> x = <span class="number">3.4</span>;</span><br><span class="line">y = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(x);</span><br><span class="line">cout &lt;&lt; <span class="string">"x="</span> &lt;&lt; x &lt;&lt; <span class="string">"y="</span> &lt;&lt; y &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h1 tabindex="-1"><span id="chapter-3">Chapter 3</span><a href="#chapter-3" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="bool">bool</span><a href="#bool" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        bool demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="type">bool</span> b1 = <span class="number">-1.5</span>;</span><br><span class="line"><span class="type">bool</span> b2 = <span class="number">0</span>;</span><br><span class="line"><span class="type">bool</span> b3 = <span class="number">1.5</span>;</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="rand-and-srand">rand and srand</span><a href="#rand-and-srand" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        rand and srand demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">srand</span>(seed); <span class="comment">//更改rand的种子</span></span><br><span class="line">    <span class="built_in">rand</span>(); <span class="comment">// 产生一个随机数</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="chapter-4">Chapter 4</span><a href="#chapter-4" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="mathematical-functions">Mathematical Functions</span><a href="#mathematical-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Mathematical Functions demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">    <span class="type">double</span> a, b;</span><br><span class="line">  </span><br><span class="line">    x = <span class="number">10.5</span>;</span><br><span class="line">    a = <span class="number">2.1</span>;</span><br><span class="line">    b = <span class="number">2.3</span>;</span><br><span class="line">  </span><br><span class="line">    y = <span class="built_in">log</span>(x); <span class="comment">//y=ln(x)</span></span><br><span class="line">    y = <span class="built_in">log10</span>(x); <span class="comment">//y=lg(x)</span></span><br><span class="line">    y = <span class="built_in">ceil</span>(x); <span class="comment">// 向inf取整</span></span><br><span class="line">    y = <span class="built_in">floor</span>(x); <span class="comment">// 向-inf取整</span></span><br><span class="line">    y = <span class="built_in">max</span>(a,b);</span><br><span class="line">    y = <span class="built_in">min</span>(a,b);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="character-functions">Character Functions</span><a href="#character-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Character functions demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">char</span> ch = <span class="string">'A'</span>;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">isdigit</span>(ch) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">isalpha</span>(ch) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">isalnum</span>(ch) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">islower</span>(ch) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">isupper</span>(ch) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">isspace</span>(ch) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">tolower</span>(ch) &lt;&lt; endl; <span class="comment">//返回小写字母，但是是数值，得用static_cast&lt;char&gt;转换</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">toupper</span>(ch) &lt;&lt; endl; <span class="comment">//返回大写字母，但是是数值，得用static_cast&lt;char&gt;转换</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">char</span>&gt;(<span class="built_in">tolower</span>(ch)) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">char</span>&gt;(<span class="built_in">toupper</span>(ch)) &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="string">string</span><a href="#string" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="string-ji-chu">string 基础</span><a href="#string-ji-chu" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Basics of string
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line">string str = <span class="string">"ABCD"</span>;</span><br><span class="line">str.<span class="built_in">length</span>();</span><br><span class="line">str.<span class="built_in">at</span>(<span class="number">0</span>);</span><br><span class="line">str[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="string-pin-jie">string 拼接</span><a href="#string-pin-jie" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        string concat
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string s3 = s2 + s1;</span><br><span class="line">s = s += <span class="string">"ABC"</span>;</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="bi-jiao-da-xiao-an-ascii-ma-yi-ci-bi-jiao">比较大小：按ASCII码依次比较</span><a href="#bi-jiao-da-xiao-an-ascii-ma-yi-ci-bi-jiao" class="header-anchor">#</a></h3>
<h3 tabindex="-1"><span id="string-du-ru">string读入</span><a href="#string-du-ru" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        string input
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string str;</span><br><span class="line">cin &gt;&gt; str; <span class="comment">//遇到空白会停止读取</span></span><br><span class="line"><span class="built_in">getline</span>(cin, str, end); <span class="comment">//直到end出现才停止，默认值为"\n"</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="cout-jin-jie">cout 进阶</span><a href="#cout-jin-jie" class="header-anchor">#</a></h2>
<p><code>**#include &lt;iomanip&gt;**</code></p>
<h3 tabindex="-1"><span id="setprecision-n">setprecision(n)</span><a href="#setprecision-n" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        setprecision demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> number = <span class="number">12.34567</span>;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">3</span>) &lt;&lt; number &lt;&lt; endl; <span class="comment">// 12.3 总共保留三位</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>The setprecision manipulator remains in effect until the precistion is changed!</p>
<h3 tabindex="-1"><span id="fixed">fixed</span><a href="#fixed" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        fixed demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; <span class="number">232123434.357</span>; <span class="comment">//2.32123e+08</span></span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="number">232123434.357</span>; <span class="comment">// 232123434.357000 默认保留小数点后六位</span></span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; <span class="number">345.123</span>; <span class="comment">//fixed 后的setprecision(2)指保留小数点后两位</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="showpoint">showpoint</span><a href="#showpoint" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        showpoint示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">6</span>);</span><br><span class="line">cout &lt;&lt; <span class="number">1.23</span> &lt;&lt; endl; <span class="comment">// 1.23</span></span><br><span class="line">cout &lt;&lt; showpoint &lt;&lt; <span class="number">1.23</span> &lt;&lt; endl; <span class="comment">// 1.23000</span></span><br><span class="line">cout &lt;&lt; showpoint &lt;&lt; <span class="number">123</span> &lt;&lt; endl; <span class="comment">// 123.000</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="setw-width">setw(width)</span><a href="#setw-width" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        setw示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="string">"C++"</span> &lt;&lt; <span class="built_in">setw</span>(<span class="number">6</span>) &lt;&lt; <span class="number">101</span> &lt;&lt; endl;</span><br><span class="line"><span class="comment">// ▢▢▢▢▢C++▢▢▢101</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="string">"C++"</span> &lt;&lt; <span class="number">101</span> &lt;&lt; endl; <span class="comment">// setw(8)只控制"C++"输出，与101无关</span></span><br><span class="line"><span class="comment">// ▢▢▢▢▢C++101</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="string">"Programming"</span> &lt;&lt; endl; <span class="comment">// 长度大于8</span></span><br><span class="line"><span class="comment">// Programming</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="left-and-right">left and right</span><a href="#left-and-right" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        left和right示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="string">"C++"</span> &lt;&lt; <span class="built_in">setw</span>(<span class="number">6</span>) &lt;&lt; <span class="number">101</span> &lt;&lt; endl; <span class="comment">// 默认右对齐</span></span><br><span class="line"><span class="comment">// ▢▢▢▢▢C++▢▢▢101</span></span><br><span class="line">cout &lt;&lt; right;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="number">1.23</span> &lt;&lt; endl;</span><br><span class="line"><span class="comment">// ▢▢▢▢1.23</span></span><br><span class="line">cout &lt;&lt; left;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="number">1.23</span> &lt;&lt; endl;</span><br><span class="line"><span class="comment">// 1.23▢▢▢▢</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="simple-file-input-and-output">simple file input and output</span><a href="#simple-file-input-and-output" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="write-file">write file</span><a href="#write-file" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        写文件示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ofstream output; <span class="comment">// 实例化ofstream类对象</span></span><br><span class="line">  </span><br><span class="line">    output.<span class="built_in">open</span>(<span class="string">"numbers.txt"</span>);<span class="comment">// 若不存在，创建；若存在，重写</span></span><br><span class="line">  </span><br><span class="line">    output &lt;&lt; <span class="number">95</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; <span class="number">56</span>; <span class="comment">// 写文件</span></span><br><span class="line">  </span><br><span class="line">    output.<span class="built_in">close</span>(); <span class="comment">// 关闭文件</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="read-file">read file</span><a href="#read-file" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        读文件示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ifstream input; <span class="comment">// 实例化对象</span></span><br><span class="line">  </span><br><span class="line">    input.<span class="built_in">open</span>(<span class="string">"numbers.txt"</span>); <span class="comment">// 打开文件，不存在会报错</span></span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> s1, s2;</span><br><span class="line">  </span><br><span class="line">    input &gt;&gt; s1; <span class="comment">// 读文件</span></span><br><span class="line">    input &gt;&gt; s2;</span><br><span class="line">    <span class="comment">// 等效于 input &gt;&gt; s1 &gt;&gt; s2;</span></span><br><span class="line">  </span><br><span class="line">    input.<span class="built_in">close</span>(); <span class="comment">// 关闭文件</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="chapter-6">Chapter 6</span><a href="#chapter-6" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="overloading-functions">overloading functions</span><a href="#overloading-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        函数重载示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> x2)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> x1, <span class="type">double</span> x2)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> x2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// 根据输入参数的类型来确定调用哪个函数</span></span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">4</span>, <span class="number">5.4</span>);</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">4.0</span>, <span class="number">5.4</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> x2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="string">"0"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> x1, <span class="type">double</span> x2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="string">"1"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> x2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="string">"2"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="function-prototype">function prototype</span><a href="#function-prototype" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        函数原型示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>; <span class="comment">// 声明时无序写出形参名</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">double</span>, <span class="type">double</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">1.0</span>, <span class="number">2.0</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> x2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> x2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="default-arguments">default arguments</span><a href="#default-arguments" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        函数默认参数示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun0</span><span class="params">(<span class="type">int</span> x = <span class="number">1</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">(<span class="type">double</span> x1 = <span class="number">1</span>, <span class="type">double</span> x2 = <span class="number">2</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun2</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> x2 = <span class="number">1</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">fun0</span>();</span><br><span class="line"><span class="built_in">fun0</span>(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">fun1</span>();</span><br><span class="line"><span class="built_in">fun1</span>(<span class="number">3</span>);</span><br><span class="line"><span class="comment">//fun1( ,5);错误</span></span><br><span class="line"><span class="built_in">fun1</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">fun2</span>(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">fun2</span>(<span class="number">2</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="constant-reference-parameters">constant reference parameters</span><a href="#constant-reference-parameters" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        常数参数示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">max</span><span class="params">(<span class="type">const</span> <span class="type">int</span>&amp; num1, <span class="type">const</span> <span class="type">int</span>&amp; num2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> result;</span><br><span class="line">    result = num1 &gt; num2 ? num1 : num2;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="chapter-7">Chapter 7</span><a href="#chapter-7" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="passing-arrays-to-functions">Passing arrays to functions</span><a href="#passing-arrays-to-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        数组传参示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">m</span><span class="params">(<span class="type">int</span>, <span class="type">int</span> [])</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> y[<span class="number">10</span>];</span><br><span class="line">    y[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">m</span>(x, y);</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; y[<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">m</span><span class="params">(<span class="type">int</span> number, <span class="type">int</span> numbers[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    number = <span class="number">1000</span>;</span><br><span class="line">    numbers[<span class="number">0</span>] = <span class="number">555</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="preventing-changes-of-array-arguments-in-functions">Preventing changes of array arguments in functions</span><a href="#preventing-changes-of-array-arguments-in-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        const type list[] 示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">p</span><span class="params">(<span class="type">const</span> <span class="type">int</span> list[], <span class="type">int</span> arraySize)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    list[<span class="number">0</span>] = <span class="number">100</span>;<span class="comment">//这是错误的，list是常量</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 含有const数组形参函数嵌套调用错误示例</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f1</span><span class="params">(<span class="type">int</span> list[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// Doing something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f2</span><span class="params">(<span class="type">const</span> <span class="type">int</span> list[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">f1</span>(list, size);<span class="comment">//这是错误的，f1中形参list不是const</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 含有const数组形参函数嵌套调用正确示例</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f1</span><span class="params">(<span class="type">const</span> <span class="type">int</span> list[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// Doing something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f2</span><span class="params">(<span class="type">const</span> <span class="type">int</span> list[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">f1</span>(list, size);<span class="comment">//这是正确的，f1中形参list是const</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="return-an-array">return an array</span><a href="#return-an-array" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        返回一个数组示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// int[] fun(args);是错误的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//正确:将数组地址传入，然后修改其数组元素</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(<span class="type">const</span> <span class="type">int</span> list[], <span class="type">int</span> newList[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, j = size - <span class="number">1</span>; i &lt; size; i++, j--)</span><br><span class="line">    {</span><br><span class="line">        newList[j] = list[i];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="chapter-8">Chapter 8</span><a href="#chapter-8" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="passing-two-dimensional-arrays-to-functions">Passing two-dimensional arrays to functions</span><a href="#passing-two-dimensional-arrays-to-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        二维数组传参示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">const</span> <span class="type">int</span> a[][COLUMN_SIZE], <span class="type">int</span> rowSize)</span> <span class="comment">// 列数必须指定</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; rowSize; row++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; COLUMN_SIZE; j++)</span><br><span class="line">        {</span><br><span class="line">            total += a[i][j];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> matrix[rowSize][COLUMN_SIZE];</span><br><span class="line"><span class="type">int</span> y = <span class="built_in">sum</span>(matrix, rowSize); <span class="comment">// 调用</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="object-and-class">Object and Class</span><a href="#object-and-class" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="defining-classes-and-creating-objects">Defining Classes and Creating Objects</span><a href="#defining-classes-and-creating-objects" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="code">code</span><a href="#code" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        类定义、对象创建示例
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// data field</span></span><br><span class="line">    <span class="comment">// if you don't use the public word, the visibility is private by default</span></span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// constructors</span></span><br><span class="line">    <span class="built_in">Circle</span>()</span><br><span class="line">    {</span><br><span class="line">        radius = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">double</span> newRadius)</span><br><span class="line">    {</span><br><span class="line">        radius = newRadius;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// function</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> radius * radius * <span class="number">3.14159</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Circle circle1;</span><br><span class="line">    <span class="function">Circle <span class="title">circle2</span><span class="params">(<span class="number">25</span>)</span></span>;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; <span class="string">"radius: "</span> &lt;&lt; circle1.radius &lt;&lt; <span class="string">" area: "</span> &lt;&lt; circle1.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">"radius: "</span> &lt;&lt; circle2.radius &lt;&lt; <span class="string">" area: "</span> &lt;&lt; circle2.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><strong>When you define a custom class, capitalize the first letter of each word in a class name.</strong></p>
<h3 tabindex="-1"><span id="uml-notation">UML notation</span><a href="#uml-notation" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        UML 表示方式
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// data field</span></span><br><span class="line">dataFieldName: dataField Type</span><br><span class="line"></span><br><span class="line"><span class="comment">// constructor</span></span><br><span class="line"><span class="built_in">ClassName</span>(parameterName: parameterType)</span><br><span class="line"></span><br><span class="line"><span class="comment">// function</span></span><br><span class="line"><span class="built_in">functionName</span>(parameterName: parameterType): returnType</span><br><span class="line"></span><br><span class="line"><span class="comment">// "+" means public</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><img src="51b1c8c3506c242ff56c56415b8b7c40-16777577659341.svg" alt="51b1c8c3506c242ff56c56415b8b7c40"></p>
<h2 tabindex="-1"><span id="constructors">Constructors</span><a href="#constructors" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="peculiarities">Peculiarities</span><a href="#peculiarities" class="header-anchor">#</a></h3>
<ul>
<li>Constructors must have the same name as the calss itself.</li>
<li>Constructors do not have a return type–not even void!</li>
<li>Constructors are invoked when an object is created. Constructors play the role of initializing objects.</li>
</ul>
<p>(A data field cannot be initialized when it is declared! like <code>double radius = 5;</code>)</p>
<ul>
<li>If we do not define a constructor, a no-arg constructor with an empty body is implicitly defined in the class. (Default constructor)</li>
</ul>
<h2 tabindex="-1"><span id="constructor-initializer-list">Constructor initializer list</span><a href="#constructor-initializer-list" class="header-anchor">#</a></h2>
<p>Data fields may be initialized in the constructor using an initializer list in the following syntax:</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Constructor initializer list demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ClassName</span>(parameterList)</span><br><span class="line">    : <span class="built_in">datafield1</span>(value1), <span class="built_in">datafield2</span>(value2)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// Additional statements if needed</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Example</span></span><br><span class="line">Circle::<span class="built_in">Circle</span>()</span><br><span class="line">    : <span class="built_in">radius</span>(<span class="number">1</span>)</span><br><span class="line">{</span><br><span class="line">  </span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><strong>Using an initializer list is necessary to initialize object data fields that don’t have a no-arg constructor.</strong></p>
<h2 tabindex="-1"><span id="construction-and-using-objects">Construction and Using Objects</span><a href="#construction-and-using-objects" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="basics">basics</span><a href="#basics" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ClassName ObjectName;</span><br><span class="line">objectName.dataField;</span><br><span class="line">objectName2 = objectName1; <span class="comment">// deep copy</span></span><br><span class="line">objectName.<span class="built_in">function</span>(arguments);</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="object-size">object size</span><a href="#object-size" class="header-anchor">#</a></h3>
<p>Data are physically stored in an object, but functions are not. Since functions are shared by all objects of the same class, the compiler creates just one copy for sharing.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        object size demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">Class Circle</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">Circle</span>()</span><br><span class="line">    {</span><br><span class="line">        radius = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">getArea</span>()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> radius * radius * <span class="number">3.14159</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Circle circle1;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span>(circle1);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="separating-class-definition-from-implementation">Separating Class Definition from implementation</span><a href="#separating-class-definition-from-implementation" class="header-anchor">#</a></h2>
<p>Class Definition: list all the data fields, constructor prototypes, and function prototypes.<br>
Class implementation implements the constructors and functions.<br>
These are in two files, but both files should have the same name but different extension names(.h for data fields and .cpp for implementations).</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> CIRCLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CIRCLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">Circle</span>();</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">double</span>);</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>() <span class="comment">//"Circle::" tells the functions are defined in Circle class</span></span><br><span class="line">{</span><br><span class="line">    radius = <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>(<span class="type">double</span> newRadius)</span><br><span class="line">{</span><br><span class="line">    radius = newRadius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> radius * radius * <span class="number">3.14159</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TestCircleWithHeader.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Circle circle1;</span><br><span class="line">    <span class="function">Circle <span class="title">circle2</span><span class="params">(<span class="number">5.0</span>)</span></span>;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; circle1.radius &lt;&lt; circle1.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; circle2.radius &lt;&lt; circle2.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="inline-functions-in-classes">Inline Functions in Classes</span><a href="#inline-functions-in-classes" class="header-anchor">#</a></h2>
<p>short functions are good candidates for inline functions.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Inline function demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">A</span>()</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//Do something</span></span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">f1</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">A::f1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//Do something</span></span><br><span class="line">    <span class="comment">//return a number</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="data-field-encapsulation">Data Field Encapsulation</span><a href="#data-field-encapsulation" class="header-anchor">#</a></h2>
<p><strong>Making data fields private protects data and makes the class easy to maintain.</strong></p>
<ul>
<li>Data may be tampered with.</li>
<li>Public data may makes the class difficult to maintain and vulnerable to bugs.</li>
</ul>
<p><img src="51b1c8c3506c242ff56c56415b8b7c40.svg" alt="51b1c8c3506c242ff56c56415b8b7c40"></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        private data demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>: <span class="comment">// public first</span></span><br><span class="line">    <span class="built_in">Circle</span>();</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">double</span>);</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getRadius</span><span class="params">()</span></span>; <span class="comment">// enable user access to radius</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setRadius</span><span class="params">(<span class="type">double</span>)</span></span>; <span class="comment">// enable user to set radius</span></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    signature:</span></span><br><span class="line"><span class="comment">        returnType getPropertyName() for most type</span></span><br><span class="line"><span class="comment">        bool isPropertyName() for bool return type</span></span><br><span class="line"><span class="comment">        void setPropertyName(dataType propertyValue)</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h1 tabindex="-1"><span id="object-oriented-thinking">Object-Oriented Thinking</span><a href="#object-oriented-thinking" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="passing-objects-to-functions">Passing Objects to Functions</span><a href="#passing-objects-to-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        passing objects by value and reference
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">passObjByValue</span><span class="params">(Circle c)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    c.<span class="built_in">setRadius</span>(<span class="number">10</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">passObjByReference</span><span class="params">(Circle&amp; c)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    c.<span class="built_in">setRadius</span>(<span class="number">10</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">Circle <span class="title">circle1</span><span class="params">(<span class="number">5.0</span>)</span></span>;</span><br><span class="line">    <span class="function">Circle <span class="title">circle2</span><span class="params">(<span class="number">5.0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">passObjByValue</span>(circle1);</span><br><span class="line">    <span class="built_in">passObjByReference</span>(circle2);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; circle1.<span class="built_in">getRadius</span>() &lt;&lt; <span class="string">" "</span> &lt;&lt; circle1.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; circle2.<span class="built_in">getRadius</span>() &lt;&lt; <span class="string">" "</span> &lt;&lt; circle2.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><strong>Passing by reference is preferred, because it takes time and additional memory space to pass by value.</strong></p>
<h2 tabindex="-1"><span id="array-of-objects">Array of Objects</span><a href="#array-of-objects" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Array of Objects demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setArrayRadius</span><span class="params">(Circle[], <span class="type">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printArray</span><span class="params">(Circle[], <span class="type">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> SIZE = <span class="number">10</span>;</span><br><span class="line">    Circle circleArray[SIZE];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setArrayRadius</span>(circleArray, SIZE);</span><br><span class="line">    <span class="built_in">printArray</span>(circleArray, SIZE);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setArrayRadius</span><span class="params">(Circle circleArray[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size ; i++)</span><br><span class="line">    {</span><br><span class="line">        circleArray[i].<span class="built_in">setRadius</span>(i+<span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printArray</span><span class="params">(Circle circleArray[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; circleArray[i].<span class="built_in">getRadius</span>() &lt;&lt; <span class="string">" "</span> &lt;&lt; circleArray[i].<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="instance-and-static-members">Instance and Static Members</span><a href="#instance-and-static-members" class="header-anchor">#</a></h2>
<ul>
<li>A static variable is shared by all objects of the class</li>
<li>A static function cannot access instance members of the class</li>
</ul>
<h3 tabindex="-1"><span id="uml-graph">UML graph</span><a href="#uml-graph" class="header-anchor">#</a></h3>
<p><img src="db4c511b00afb99b51a402a46b2a2cf5.svg" alt="db4c511b00afb99b51a402a46b2a2cf5"></p>
<h3 tabindex="-1"><span id="using-of-static-members-functions">Using of static members/functions</span><a href="#using-of-static-members-functions" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> CIRCLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CIRCLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Circle</span>();</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">double</span>);</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getRadius</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setRadius</span><span class="params">(<span class="type">double</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">getNumberOfObjects</span><span class="params">()</span></span>; <span class="comment">// using static functions to get static members</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> numberOfObjects;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Circle::numberOfObjects = <span class="number">0</span>; <span class="comment">// define static members in cpp files</span></span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>() <span class="comment">//"Circle::" tells the functions are defined in Circle class</span></span><br><span class="line">{</span><br><span class="line">    radius = <span class="number">1</span>;</span><br><span class="line">    numberOfObjects++; <span class="comment">// the static members can be accessed in constructors</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>(<span class="type">double</span> newRadius)</span><br><span class="line">{</span><br><span class="line">    radius = newRadius;</span><br><span class="line">    numberOfObjects++;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getRadius</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> radius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Circle::setRadius</span><span class="params">(<span class="type">double</span> newRadius)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    radius = newRadius &gt;=<span class="number">0</span> ? newRadius : -newRadius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> radius * radius * <span class="number">3.14159</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Circle::getNumberOfObjects</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> numberOfObjects;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        main.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; Circle::<span class="built_in">getNumberOfObjects</span>() &lt;&lt; endl; </span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    static members can be accessed before the object been created.</span></span><br><span class="line"><span class="comment">    static functions can be invoked before the object been created.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    Circle circle1;</span><br><span class="line">    cout &lt;&lt; circle1.<span class="built_in">getNumberOfObjects</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="function">Circle <span class="title">circle2</span><span class="params">(<span class="number">4.0</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; circle2.<span class="built_in">getNumberOfObjects</span>() &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    static functions can be invoked by </span></span><br><span class="line"><span class="comment">    ClassName::function() or ObjectName.function()</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li>If a variable  or a function is not dependent on  a specific instance of the class, it should be a static variable or static function</li>
<li>Using ClassName::functionName(args) to invoke a static function and ClassName::staticVariable to access static variables improves readability.</li>
</ul>
<h2 tabindex="-1"><span id="constant-member-functions">Constant Member Functions</span><a href="#constant-member-functions" class="header-anchor">#</a></h2>
<p><strong>A const function should not change the value of any data fields in the object.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> CIRCLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CIRCLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Circle</span>();</span><br><span class="line">    <span class="built_in">Circle</span>(<span class="type">double</span>);</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getRadius</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setRadius</span><span class="params">(<span class="type">double</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">getNumberOfObjects</span><span class="params">()</span></span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> numberOfObjects;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Circle::numberOfObjects = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>() <span class="comment">//"Circle::" tells the functions are defined in Circle class</span></span><br><span class="line">{</span><br><span class="line">    radius = <span class="number">1</span>;</span><br><span class="line">    numberOfObjects++;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>(<span class="type">double</span> newRadius)</span><br><span class="line">{</span><br><span class="line">    radius = newRadius;</span><br><span class="line">    numberOfObjects++;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getRadius</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> radius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Circle::setRadius</span><span class="params">(<span class="type">double</span> newRadius)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    radius = newRadius &gt;=<span class="number">0</span> ? newRadius : -newRadius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getArea</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> radius * radius * <span class="number">3.14159</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Circle::getNumberOfObjects</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> numberOfObjects;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        main.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printCircle</span><span class="params">(<span class="type">const</span> Circle&amp; c)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; c.<span class="built_in">getRadius</span>() &lt;&lt; <span class="string">" "</span> &lt;&lt; c.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">A const member function should not change the value of any data fields in the object,</span></span><br><span class="line"><span class="comment">so instance get function should always be defined as a constant member function.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">If a function does not change the object being passed like printCircle, you should </span></span><br><span class="line"><span class="comment">define the parameters constant using const keyword, and member functions being </span></span><br><span class="line"><span class="comment">invoked in the function should be const member functions. </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Circle circle1;</span><br><span class="line">    <span class="built_in">printCircle</span>(circle1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="object-composition">Object Composition</span><a href="#object-composition" class="header-anchor">#</a></h2>
<p>An object can contain another object. The relationship between the two is called composition.</p>
<h3 tabindex="-1"><span id="aggregation-and-composition">Aggregation and composition</span><a href="#aggregation-and-composition" class="header-anchor">#</a></h3>
<p>The owner object is called an aggregating object and its class an aggregating class. The subject object is called an agggregated object and its class an aggregated class.<br>
An object may be owned by several other aggregating objects. If an object is exclusively owned by an aggregating object, the relationship between the object and its aggregation object is referred to as composition.</p>
<h3 tabindex="-1"><span id="uml-graph">UML graph</span><a href="#uml-graph" class="header-anchor">#</a></h3>
<p><img src="cefccd87448f7268d2fecb48285860b5.svg" alt="cefccd87448f7268d2fecb48285860b5"></p>
<ul>
<li><strong>Filled diamond is attached to an aggregating class to denote the composition relationship.</strong></li>
<li><strong>An empty diamond is attached to an aggregating class to denote the aggregation relationship.</strong></li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Aggregation demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Name</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Address</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Name name;</span><br><span class="line">    Adddress address;</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>**Aggregation may exist between objects of the same class. **</p>
<p><img src="fc994c0908b088e6ef3f5ddcacd2e355.svg" alt="fc994c0908b088e6ef3f5ddcacd2e355"></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Aggregation exist between objects of the same class.
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Person teammates[<span class="number">3</span>];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="thinking-in-objects">Thinking in Objects</span><a href="#thinking-in-objects" class="header-anchor">#</a></h2>
<ul>
<li>The procedural paradigm focuses on designing functions. The object oriented paradigm couples data and functions together into objects.</li>
<li>Software design using the object-oriented paradigm focuses on objects and operations on objects.</li>
</ul>
<h2 tabindex="-1"><span id="class-design-guidelines">Class Design Guidelines</span><a href="#class-design-guidelines" class="header-anchor">#</a></h2>
<ul>
<li><strong>Cohesion</strong>
<ul>
<li>A class describe a single entity, all the class operations should logically fit together to support a coherent purpose.</li>
</ul>
</li>
<li><strong>Consistency</strong>:
<ul>
<li>Follow standard programming style and naming conventions. Choose informative names for classes, data fields, and functions. Placing data declaration after the functions and place constructors before functions.</li>
<li>Choose the same names for similar operations using function overloading.</li>
<li>Consistently provide a public no-arg constructor.</li>
</ul>
</li>
<li><strong>Encapsulation</strong>
<ul>
<li>Using private modifier to hide data.</li>
</ul>
</li>
<li><strong>Clarity</strong>
<ul>
<li>A class should have a clear contract that is easy to explain and understand.</li>
</ul>
</li>
<li><strong>Completeness</strong>
<ul>
<li>A class should provide a variety of ways for customization through properties and functions for wide range of applications.</li>
</ul>
</li>
<li><strong>Instance vs. Static</strong></li>
</ul>
<hr>
<h1 tabindex="-1"><span id="pointers-and-dynamic-memory-management">Pointers and Dynamic memory management</span><a href="#pointers-and-dynamic-memory-management" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="using-const-with-pointers">Using const with Pointers</span><a href="#using-const-with-pointers" class="header-anchor">#</a></h2>
<p>A constant pointer points to a constant memory location, but the actual value in the memory location can be changed.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Using const with Pointers
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">double</span> radius = <span class="number">5</span>;</span><br><span class="line">    <span class="type">double</span> length = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">	<span class="type">double</span>* <span class="type">const</span> p1 = &amp;radius; <span class="comment">// constant pointer</span></span><br><span class="line">	<span class="type">const</span> <span class="type">double</span>* p2 = &amp;length; <span class="comment">// constant data</span></span><br><span class="line"></span><br><span class="line">	radius = <span class="number">4</span>;</span><br><span class="line">	length = <span class="number">6</span>;</span><br><span class="line">	<span class="comment">// the value can be modify</span></span><br><span class="line"></span><br><span class="line">	*p1 = <span class="number">8</span>;</span><br><span class="line">	<span class="comment">// p1 = p2 is wrong</span></span><br><span class="line">	cout &lt;&lt; *p1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; *p2 &lt;&lt; endl;</span><br><span class="line">	p2 = p1;</span><br><span class="line">    <span class="comment">// *p2 = *p1 is wrong</span></span><br><span class="line">    cout &lt;&lt; *p2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">"ok"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="passing-pointer-arguments-in-a-function-call">Passing Pointer Arguments in a Function Call</span><a href="#passing-pointer-arguments-in-a-function-call" class="header-anchor">#</a></h2>
<p>A pointer argument can be passed by value or by reference</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Four swap functions demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap1</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap2</span><span class="params">(<span class="type">int</span>&amp;, <span class="type">int</span>&amp;)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap3</span><span class="params">(<span class="type">int</span>*, <span class="type">int</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap4</span><span class="params">(<span class="type">int</span>* &amp;, <span class="type">int</span>* &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> num1 = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> num2 = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> num3 = <span class="number">3</span>;</span><br><span class="line">    <span class="type">int</span> num4 = <span class="number">4</span>;</span><br><span class="line">    <span class="type">int</span>* p1 = &amp;num3;</span><br><span class="line">    <span class="type">int</span>* p2 = &amp;num4;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">swap1</span>(num1, num2);</span><br><span class="line">    cout &lt;&lt; num1 &lt;&lt; <span class="string">" "</span> &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">swap2</span>(num1, num2);</span><br><span class="line">    cout &lt;&lt; num1 &lt;&lt; <span class="string">" "</span> &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">swap3</span>(p1, p2);</span><br><span class="line">    cout &lt;&lt; *p1 &lt;&lt; <span class="string">" "</span> &lt;&lt; *p2 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; p1 &lt;&lt; <span class="string">" "</span> &lt;&lt; p2 &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    *p1 = <span class="number">3</span>;</span><br><span class="line">    *p2 = <span class="number">4</span>;</span><br><span class="line">    <span class="built_in">swap4</span>(p1, p2);</span><br><span class="line">    cout &lt;&lt; *p1 &lt;&lt; <span class="string">" "</span> &lt;&lt; *p2 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; p1 &lt;&lt; <span class="string">" "</span> &lt;&lt; p2 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap1</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> <span class="comment">// pass by value</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> t = num1;</span><br><span class="line">    num1 = num2;</span><br><span class="line">    num2 = t;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap2</span><span class="params">(<span class="type">int</span>&amp; num1, <span class="type">int</span>&amp; num2)</span> <span class="comment">// pass by reference</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> t = num1;</span><br><span class="line">    num1 = num2;</span><br><span class="line">    num2 = t;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap3</span><span class="params">(<span class="type">int</span>* p1, <span class="type">int</span>* p2)</span> <span class="comment">// pass two pointers by value</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> t = *p1;</span><br><span class="line">    *p1 = *p2;</span><br><span class="line">    *p2 = t;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap4</span><span class="params">(<span class="type">int</span>* &amp;p1, <span class="type">int</span>* &amp;p2)</span> <span class="comment">// pass two pointers by reference</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> *pt = p1;</span><br><span class="line">    p1 = p2;</span><br><span class="line">    p2 = pt;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="returning-a-pointer-from-functions">Returning a Pointer from Functions</span><a href="#returning-a-pointer-from-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        return a pointer
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> *<span class="title">reverse</span><span class="params">(<span class="type">int</span>* list, <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>, j = size - <span class="number">1</span>; i &lt; j; i++, j--)</span><br><span class="line">    {</span><br><span class="line">        <span class="type">int</span> temp = list[j];</span><br><span class="line">        list[j] = list[i];</span><br><span class="line">        list[i] = temp;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="useful-array-functions">Useful Array Functions</span><a href="#useful-array-functions" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Usefun Array Functions demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printArray</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* list, <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; *(list + i) &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> SIZE = <span class="number">6</span>;</span><br><span class="line">    <span class="type">int</span> list[SIZE] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>};</span><br><span class="line"></span><br><span class="line">    <span class="built_in">random_shuffle</span>(list, list + SIZE);</span><br><span class="line">    <span class="built_in">printArray</span>(list, SIZE);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort</span>(list, list + SIZE);</span><br><span class="line">    <span class="built_in">printArray</span>(list, SIZE);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>* pmin = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">int</span>* pmax = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">int</span>* p = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    pmin = <span class="built_in">min_element</span>(list, list + SIZE);</span><br><span class="line">    cout &lt;&lt; *pmin &lt;&lt; <span class="string">" "</span> &lt;&lt; pmin - list &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    pmax = <span class="built_in">max_element</span>(list, list + SIZE);</span><br><span class="line">    cout &lt;&lt; *pmax &lt;&lt; <span class="string">" "</span> &lt;&lt; pmax - list &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> key1 = <span class="number">4</span>;</span><br><span class="line">    <span class="type">int</span> key2 = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    p = <span class="built_in">find</span>(list, list + SIZE, key1);</span><br><span class="line">    cout &lt;&lt; p - list &lt;&lt; endl;</span><br><span class="line">    p = <span class="built_in">find</span>(list, list + SIZE, key2);</span><br><span class="line">    cout &lt;&lt; p - list &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="dynamic-persistent-memory-allocation">Dynamic Persistent Memory Allocation</span><a href="#dynamic-persistent-memory-allocation" class="header-anchor">#</a></h2>
<p>A new operator can be used to create persistent memory at runtime for primitive type values, arrays, and objects.</p>
<p>C++ allocates local variables in the stack, but the memory allocated by the new operator is in an area of memory called heap. The heap memory remains available until you explicitly free it or the program terminates.</p>
<h3 tabindex="-1"><span id="allocation">Allocation</span><a href="#allocation" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        new operator demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span>* <span class="title">reverse1</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* list, <span class="type">const</span> <span class="type">int</span> SIZE)</span> <span class="comment">// wrong reverse</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> result[SIZE];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = size - <span class="number">1</span>; i &lt; size; i++, j--)</span><br><span class="line">    {</span><br><span class="line">        result[j] = list[i];</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    example11-8.cpp:15:9: warning: address of </span></span><br><span class="line"><span class="comment">    local variable 'result' returned [-Wreturn-local-addr]</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span>* <span class="title">reverse2</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* list, <span class="type">const</span> <span class="type">int</span> SIZE)</span> <span class="comment">// right reverse</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span>* list = <span class="keyword">new</span> <span class="type">int</span>[SIZE];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = size - <span class="number">1</span>; i &lt; size; i++, j--)</span><br><span class="line">    {</span><br><span class="line">        result[j] = list[i];</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> SIZE = <span class="number">6</span>;</span><br><span class="line">    <span class="type">int</span> list[SIZE] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>};</span><br><span class="line">    <span class="type">int</span> *list1 = <span class="built_in">reverse1</span>(list, SIZE);</span><br><span class="line">    <span class="type">int</span> *list2 = <span class="built_in">reverse2</span>(list, SIZE);</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">printArray</span>()</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li><code>int* p = new int(4);</code>means allocate memory space for an int variable initialized to 4</li>
<li><code>int* p = new int[size];</code>means allocate dynamic array</li>
</ul>
<p><strong>For creating dynamic objects, you can use</strong></p>
<ul>
<li><code>ClassName* pObject = new ClassName();</code> or <code>ClassName* pObject =  new ClassName;</code> for no-arg constructor.</li>
<li><code>ClassName* pObject = new ClassName(arguments);</code> for creating an object using the constructor with arguments.</li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Creating objects using the new operator
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string* p = <span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">"aaaaaaa"</span>);</span><br><span class="line">cout &lt;&lt; (*p).<span class="built_in">substr</span>(<span class="number">0</span>, <span class="number">3</span>) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; p-&gt;<span class="built_in">substr</span>(<span class="number">0</span>, <span class="number">4</span>) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; p-&gt;<span class="built_in">length</span>() &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="delete">Delete</span><a href="#delete" class="header-anchor">#</a></h3>
<p>**To explicitly free the memory creater by the new operator, use the delete operator for the pointer. Like **<code>delete p;</code>**or **<code>delete [] list;</code></p>
<ul>
<li>Use the <code>delete</code> keyword only with the pointer that points to the memory created by the <code>new</code> operator.</li>
<li>After the memory pointed by a pointer is freed, the value of the pointer becomes undefined. Do not apply the dereference operator * on dangling pointer.</li>
<li>Do not reassign a pointer before deleting the memory to which it points. It may cause memory leak.</li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        memory leak
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line">*p = <span class="number">45</span>;</span><br><span class="line">p = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">The original memory space that holds value 45 is not accessible.</span></span><br><span class="line"><span class="comment">This memory can't be accessed and can't be deleted. This is memory leak.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="the-this-pointer">The this Pointer</span><a href="#the-this-pointer" class="header-anchor">#</a></h2>
<p><strong>The this pointer points to the calling object itself</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        circle.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Circle::<span class="built_in">Circle</span>(<span class="type">double</span> radius)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">this</span>-&gt;radius = radius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Circle::setRadius</span><span class="params">(<span class="type">double</span> radius)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">this</span>-&gt;radius = radius &gt;= <span class="number">0</span> ? radius : -radius;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="destructors">Destructors</span><a href="#destructors" class="header-anchor">#</a></h2>
<p>Every class has a destructor, which is called automatically when an object is deleted.</p>
<ul>
<li>Every class has a default destructor if the destructor is not explicitly defined.</li>
<li>Destructors are named the same as class with a destructor defined, but put a tilde character(~) in the front</li>
<li>Destructors have no return type and no arguments.</li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        destructor
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">~<span class="built_in">Circle</span>();</span><br><span class="line"></span><br><span class="line">Circle::~<span class="built_in">Circle</span>()</span><br><span class="line">{</span><br><span class="line">    numberOfObjects--;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="copy-constructors">Copy Constructors</span><a href="#copy-constructors" class="header-anchor">#</a></h2>
<p>Every class has a copy constructor, which is used to copy objects.</p>
<p><code>ClassName(const ClassName&amp;)</code></p>
<p>A default copy constructors is provided for each class implicitly, if it is not defined explicitly. The default copy constructir simply copied each data field in one object to its counterpart in the other object.</p>
<h3 tabindex="-1"><span id="shallow-copy">Shallow Copy</span><a href="#shallow-copy" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Course.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> COURSE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COURSE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Course</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Course</span>();</span><br><span class="line">	<span class="built_in">Course</span>(<span class="type">const</span> string&amp; CourseName, <span class="type">int</span> capacity);</span><br><span class="line">	~<span class="built_in">Course</span>();</span><br><span class="line">	<span class="function">string <span class="title">getCourseName</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">addStudentName</span><span class="params">(<span class="type">const</span> string&amp; name)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">dropStudent</span><span class="params">(<span class="type">const</span> string&amp; name)</span></span>;</span><br><span class="line">	<span class="function">string* <span class="title">getStudents</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getNumberOfStudents</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	string CourseName;</span><br><span class="line">	string* students;</span><br><span class="line">	<span class="type">int</span> numberOfStudents;</span><br><span class="line">	<span class="type">int</span> capacity;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        main.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Course.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="function">Course <span class="title">course1</span><span class="params">(<span class="string">"C++"</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Course <span class="title">course2</span><span class="params">(course1)</span></span>;</span><br><span class="line">	course1.<span class="built_in">addStudentName</span>(<span class="string">"San Zhang"</span>);</span><br><span class="line">	course2.<span class="built_in">addStudentName</span>(<span class="string">"Si Li"</span>);</span><br><span class="line"></span><br><span class="line">	string* p1 = course1.<span class="built_in">getStudents</span>();</span><br><span class="line">	string* p2 = course2.<span class="built_in">getStudents</span>();</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; *p1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; *p2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Course.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Course.h"</span></span></span><br><span class="line"></span><br><span class="line">Course::<span class="built_in">Course</span>()</span><br><span class="line">{</span><br><span class="line">	CourseName = <span class="string">"undefined"</span>;</span><br><span class="line">	numberOfStudents = <span class="number">0</span>;</span><br><span class="line">	capacity = <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Course::<span class="built_in">Course</span>(<span class="type">const</span> string&amp; CourseName, <span class="type">int</span> capacity)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">this</span>-&gt;CourseName = CourseName;</span><br><span class="line">	<span class="keyword">this</span>-&gt;capacity = capacity;</span><br><span class="line">	numberOfStudents = <span class="number">0</span>;</span><br><span class="line">	students = <span class="keyword">new</span> string[capacity];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Course::~<span class="built_in">Course</span>()</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">delete</span>[] students;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">Course::getCourseName</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> CourseName;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Course::addStudentName</span><span class="params">(<span class="type">const</span> string&amp; name)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (numberOfStudents &lt; capacity)</span><br><span class="line">	{</span><br><span class="line">		students[numberOfStudents++] = name;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; <span class="string">"Can not add more students!"</span> &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Course::dropStudent</span><span class="params">(<span class="type">const</span> string&amp; name)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (name.<span class="built_in">length</span>() == <span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; <span class="string">"The lenth of name must greater than zero!"</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	string* p = <span class="built_in">find</span>(students, students + capacity, name);</span><br><span class="line">	<span class="type">int</span> index = p - students;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; index &lt; capacity)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = index; i &lt; numberOfStudents - <span class="number">1</span>; i++)</span><br><span class="line">		{</span><br><span class="line">			students[i] = students[i + <span class="number">1</span>];</span><br><span class="line">		}</span><br><span class="line">		students[numberOfStudents - <span class="number">1</span>].<span class="built_in">clear</span>();</span><br><span class="line">		numberOfStudents--;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; name &lt;&lt; <span class="string">" do not in the list of students in "</span> &lt;&lt; CourseName &lt;&lt; <span class="string">"!"</span> &lt;&lt;endl;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string* <span class="title">Course::getStudents</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> students;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Course::getNumberOfStudents</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> numberOfStudents;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><strong>The program will display “Si Li” twice and it will cause error before the space for students in course1 is freed (students of course2 have no space!)</strong></p>
<h3 tabindex="-1"><span id="deep-copy">Deep Copy</span><a href="#deep-copy" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Customizing Copy Constructors
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Course</span>(<span class="type">const</span> Course&amp;);</span><br><span class="line"></span><br><span class="line">Course::<span class="built_in">Course</span>(<span class="type">const</span> Course&amp; course)</span><br><span class="line">{</span><br><span class="line">	CourseName = course.CourseName;</span><br><span class="line">	numberOfStudents = course.numberOfStudents;</span><br><span class="line">	capacity = course.capacity;</span><br><span class="line">	students = <span class="keyword">new</span> string[capacity];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numberOfStudents; i++)</span><br><span class="line">	{</span><br><span class="line">		students[i] = course.students[i];</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="inheritance-and-polymorphism">Inheritance and Polymorphism</span><a href="#inheritance-and-polymorphism" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="base-classes-and-derived-classes">Base Classes and Derived Classes</span><a href="#base-classes-and-derived-classes" class="header-anchor">#</a></h2>
<p>**Inheritance enables you to define a general class (i.e., a base class) and later extend it to more specialized classes (i.e., derived classes).  **</p>
<h3 tabindex="-1"><span id="uml-graph">UML graph</span><a href="#uml-graph" class="header-anchor">#</a></h3>
<img src="37602a6369d5075f22d11a6884396062.svg" alt="37602a6369d5075f22d11a6884396062">
<h3 tabindex="-1"><span id="syntax">Syntax</span><a href="#syntax" class="header-anchor">#</a></h3>
<p><code>class derivedClassName : public baseClassName</code></p>
<ul>
<li>All the public member in bass class are inherited in derived class</li>
<li>But the private data fields can not be accessed in the derived class. You can only use get or set functions to read or modify them.</li>
<li>A derived class and its base class must have the is-a relationship.</li>
<li>Not all “is-a” relationships should be modeled using inheritance. For class A to extend class B, A should contain more detailed information than B.</li>
<li>C++ allows you to derive a derived class from several classes. This capability is known as multiple inheritance.</li>
</ul>
<h2 tabindex="-1"><span id="generic-programming">Generic Programming</span><a href="#generic-programming" class="header-anchor">#</a></h2>
<p>An object of a derived class can be passed wherever an object of a base type parameter is required. Thus a function can be used generically for a wide range of object arguments. This is known as generic programming.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Generic Programming demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(BaseClass &amp;obj)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// something  </span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">BaseClass obj1;</span><br><span class="line">DerivedClass1 obj2;</span><br><span class="line">DerivedClass2 obj3;</span><br><span class="line"></span><br><span class="line"><span class="built_in">display</span>(obj1);</span><br><span class="line"><span class="built_in">display</span>(obj2);</span><br><span class="line"><span class="built_in">display</span>(obj3);</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="constructors-and-destructors">Constructors and Destructors</span><a href="#constructors-and-destructors" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="calling-base-class-constructors">Calling Base Class Constructors</span><a href="#calling-base-class-constructors" class="header-anchor">#</a></h3>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Calling Base Class Constructors syntax
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function 1</span></span><br><span class="line"><span class="comment">// invoke no-arg constructor of the base class</span></span><br><span class="line"><span class="built_in">DerivedClass</span>(parameterList) : <span class="built_in">BaseClass</span>() <span class="comment">//bracket after BaseClass can be omitted</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// function 2</span></span><br><span class="line"><span class="comment">// invoke constructor with specific arguments of the base class</span></span><br><span class="line"><span class="built_in">DerivedClass</span>(parameterList) : <span class="built_in">BaseClass</span>(argumentList)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">setData1</span>(data1);</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// function 3</span></span><br><span class="line"><span class="comment">// equals to function 2</span></span><br><span class="line"><span class="built_in">DerivedClass</span>(parameterList) : <span class="built_in">BaseClass</span>(argumentList), <span class="built_in">data1</span>(data1)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="constructor-and-destructor-chaining">Constructor and Destructor Chaining</span><a href="#constructor-and-destructor-chaining" class="header-anchor">#</a></h3>
<p>**The constructor of a derived class first calls its base class’s constructor before it executes its own code. The destructor of a derived class executes its own code then automatically calls its base class’s destructor.  **</p>
<p>**Cautions: **</p>
<ul>
<li><strong>If a class is designed to be extended, it is better to provide a no-arg constructor to avoid programming errors.</strong></li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        wrong example
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Fruit</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="built_in">Fruit</span>(<span class="type">int</span> id)</span><br><span class="line"> {</span><br><span class="line"> }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Apple</span>: <span class="keyword">public</span> Fruit <span class="comment">// no-arg constructor has not be defined in Fruit Class!</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="built_in">Apple</span>()</span><br><span class="line"> {</span><br><span class="line"> }</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li><strong>If the base class has a customized copy constructor and assignment operator, you should customize these in the derived classes to ensure that the data fields in the base class are properly copied.</strong></li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        example
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Child::<span class="built_in">Child</span>(<span class="type">const</span> Child&amp; object): <span class="built_in">Parent</span>(object)</span><br><span class="line">{</span><br><span class="line"> <span class="comment">// Write the code for copying data fields in Child</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">The code for the assignment operator in Child would typically look like this:</span></span><br><span class="line"><span class="comment">Child&amp; Child::operator=(const Child&amp; object)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">{</span><br><span class="line"> Parent::<span class="built_in">operator</span>(object);</span><br><span class="line"> <span class="comment">// Write the code for copying data fields in Child</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="redefining-functions">Redefining Functions</span><a href="#redefining-functions" class="header-anchor">#</a></h2>
<p>A function defined in the base class can be redefined in the derived classes.</p>
<p>To redefine a base class’s function in the derived class, you need to add the function’s prototype in the derived class’s header file, and provide a new implementation for the function in the derived class’s implementation file.</p>
<h2 tabindex="-1"><span id="polymorphism">Polymorphism</span><a href="#polymorphism" class="header-anchor">#</a></h2>
<p>Polymorphism means that a variable of a supertype can refer to a subtype object.</p>
<p>For example, every circle is a geometric object, but not every geometric object is a circle. Therefore, you can always pass an instance of a derived class to a parameter of its base class type.</p>
<h2 tabindex="-1"><span id="virtual-functions-and-dynamic-binding">Virtual Functions and Dynamic Binding</span><a href="#virtual-functions-and-dynamic-binding" class="header-anchor">#</a></h2>
<p>A function can be implemented in several classes along the inheritance chain. Virtual functions enable the system to decide which function is invoked at runtime based on the actual type of the object. The capability of determining which function to invoke at runtime is known as dynamic binding.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        virtual function demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"GeometricObject.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"DerivedCircle.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"DerivedRectangle.h"</span>   </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayGeometricObject</span><span class="params">(<span class="type">const</span> GeometricObject&amp; g)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; g.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    GeometricObject geometricObject;</span><br><span class="line">    <span class="built_in">displayGeometricObject</span>(geometricObject);</span><br><span class="line">  </span><br><span class="line">    <span class="function">Circle <span class="title">circle</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="built_in">displayGeometricObject</span>(circle);</span><br><span class="line"> </span><br><span class="line">    <span class="function">Rectangle <span class="title">rectangle</span><span class="params">(<span class="number">4</span>, <span class="number">6</span>)</span></span>;</span><br><span class="line">    <span class="built_in">displayGeometricObject</span>(rectangle);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">if toString function is defined in GeometricObject.h like:</span></span><br><span class="line"><span class="comment">string toString() const;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">output:</span></span><br><span class="line"><span class="comment">    Geometric Object</span></span><br><span class="line"><span class="comment">    Geometric Object</span></span><br><span class="line"><span class="comment">    Geometric Object</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">if toString function is defined in GeometricObject.h like:</span></span><br><span class="line"><span class="comment">virtual string toString() const;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">output:</span></span><br><span class="line"><span class="comment">    Geometric Object</span></span><br><span class="line"><span class="comment">    Circle Object</span></span><br><span class="line"><span class="comment">    Rectangle Object</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>**To enable dynamic binding for a function, you need to do two things: **</p>
<ul>
<li>The function must be defined virtual in the base class.</li>
<li>The variable that references the object must be passed by reference or passed as a pointer in the virtual function</li>
</ul>
<p><strong>Note</strong></p>
<ul>
<li><strong>Static Binding</strong>: The declared type of the variable decides which function to match at compile time. The compiler finds a matching function according to parameter type, number of parameters, and order of the parameters at compile time.</li>
<li><strong>Dynamic Binding</strong>: Dynamically binds the implementation of the function at runtime, decided by the actual class of the object referenced by the variable.</li>
<li>If a function defined in a base class needs to be redefined in its derived classes, you should define it virtual to avoid confusions and mistakes. On the other hand, if a function will not be redefined, it is more efficient not to declare it virtual, because more time and system resource are required to bind virtual functions dynamically at runtime.</li>
</ul>
<h2 tabindex="-1"><span id="the-protected-keyword">The protected keyword</span><a href="#the-protected-keyword" class="header-anchor">#</a></h2>
<table>
<thead>
<tr>
<th><strong>Keyword</strong></th>
<th><strong>Who can access?</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td><strong>inside the class/ friend functions/ friend classes</strong></td>
</tr>
<tr>
<td><code>protected</code></td>
<td><strong>inside the class/ friend functions/ friend classes/ derived classes</strong></td>
</tr>
<tr>
<td><code>private</code></td>
<td><strong>inside the class/ any other class</strong></td>
</tr>
</tbody>
</table>
<h2 tabindex="-1"><span id="abstract-classes-and-pure-virtual-functions">Abstract Classes and Pure Virtual Functions</span><a href="#abstract-classes-and-pure-virtual-functions" class="header-anchor">#</a></h2>
<p>**An abstract class cannot be used to create objects. An abstract class can contain abstract functions, which are implemented in concrete derived classes.  **</p>
<p>For example, <code>getArea</code> function can not be implemented in GeometricObject class, but can be implemented in the Circle class or Rectangle class. So we can define <code>getArea</code> in GeometricObject class as an abstract funcions(Pure Virtual Functions). Then GeometricObject class is a abstract class which cannot be used to create objects.</p>
<p>syntax: <code>virtual type functionName(parameterList) = 0;  </code> The “= 0” notation indicates that this function is a pure virtual function. A pure virtual function does not have a body or implementation in the base class.</p>
<h2 tabindex="-1"><span id="casting-static-cast-versus-dynamic-cast">Casting: static_cast versus dynamic_cast</span><a href="#casting-static-cast-versus-dynamic-cast" class="header-anchor">#</a></h2>
<p><strong>The dynamic_cast operator can be used to cast an object to its actual type at runtime.</strong></p>
<p><strong>dynamic_cast can be performed only on the pointer or the reference of a polymorphic type; i.e., the type contains a virtual function. dynamic_cast can be used to check whether casting is performed successfully at runtime. static_cast is performed at compile time.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        casting demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// upcasting</span></span><br><span class="line">BaseClass* p = <span class="keyword">new</span> DerivedClass; <span class="comment">// can be performed implicitly.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// downcasting</span></span><br><span class="line">DerivedClass* p1;</span><br><span class="line">p1 = <span class="built_in">static_cast</span>&lt;DerivedClass*&gt;(p);</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">p1 = <span class="built_in">dynamic_cast</span>&lt;DerivedClass*&gt;(p);</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="example-geometricobject-circle-rectangle">Example: GeometricObject, Circle, Rectangle</span><a href="#example-geometricobject-circle-rectangle" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        GeometricObject.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> GEOMETRICOBJECT_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GEOMETRICOBJECT_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GeometricObject</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">GeometricObject</span>();</span><br><span class="line">	<span class="built_in">GeometricObject</span>(<span class="type">const</span> string&amp; color, <span class="type">bool</span> filled);</span><br><span class="line">	<span class="keyword">virtual</span> ~<span class="built_in">GeometricObject</span>();</span><br><span class="line">	<span class="function">string <span class="title">getColor</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">setColor</span><span class="params">(<span class="type">const</span> string&amp; color)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">isFilled</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">setFilled</span><span class="params">(<span class="type">bool</span> filled)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> string <span class="title">toString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="comment">//virtual double getArea() const = 0;</span></span><br><span class="line">	<span class="comment">//virtual double getPerimeter() const = 0;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	string color;</span><br><span class="line">	<span class="type">bool</span> filled;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        GeometricObject.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"GeometricObject.h"</span></span></span><br><span class="line"></span><br><span class="line">GeometricObject::<span class="built_in">GeometricObject</span>()</span><br><span class="line">{</span><br><span class="line">	color = <span class="string">"white"</span>;</span><br><span class="line">	filled = <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">GeometricObject::<span class="built_in">GeometricObject</span>(<span class="type">const</span> string&amp; color, <span class="type">bool</span> filled)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">this</span>-&gt;color = color;</span><br><span class="line">	<span class="keyword">this</span>-&gt;filled = filled;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">GeometricObject::~<span class="built_in">GeometricObject</span>()</span><br><span class="line">{</span><br><span class="line">	cout &lt;&lt; <span class="string">"Geometric Object destroyed!"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">GeometricObject::getColor</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> color;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">GeometricObject::setColor</span><span class="params">(<span class="type">const</span> string&amp; color)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">this</span>-&gt;color = color;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">GeometricObject::isFilled</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> filled;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">GeometricObject::setFilled</span><span class="params">(<span class="type">bool</span> filled)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">this</span>-&gt;filled = filled;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">GeometricObject::toString</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"Geometric Object"</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> CIRCLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CIRCLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"GeometricObject.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> : <span class="keyword">public</span> GeometricObject</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Circle</span>();</span><br><span class="line">	<span class="built_in">Circle</span>(<span class="type">double</span> radius);</span><br><span class="line">	<span class="built_in">Circle</span>(<span class="type">double</span> radius, <span class="type">const</span> string&amp; color, <span class="type">bool</span> filled);</span><br><span class="line">	~<span class="built_in">Circle</span>();</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getRadius</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">setRadius</span><span class="params">(<span class="type">double</span>)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getPerimeter</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getDiameter</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">string <span class="title">toString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">double</span> radius;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Circle.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>()</span><br><span class="line">{</span><br><span class="line">	radius = <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>(<span class="type">double</span> radius)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">setRadius</span>(radius);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Circle::<span class="built_in">Circle</span>(<span class="type">double</span> radius, <span class="type">const</span> string&amp; color, <span class="type">bool</span> filled)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">setRadius</span>(radius);</span><br><span class="line">	<span class="built_in">setColor</span>(color);</span><br><span class="line">	<span class="comment">// this-&gt;color = color; Illgal since color is private in the base Class</span></span><br><span class="line">	<span class="built_in">setFilled</span>(filled);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Circle::~<span class="built_in">Circle</span>()</span><br><span class="line">{</span><br><span class="line">	cout &lt;&lt; <span class="string">"Circle Object destroyed!"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getRadius</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> radius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Circle::setRadius</span><span class="params">(<span class="type">double</span> radius)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">this</span>-&gt;radius = radius &gt;= <span class="number">0</span> ? radius : -radius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getArea</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> radius * radius * <span class="number">3.14159</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getPerimeter</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2</span> * <span class="number">3.14159</span> * radius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getDiameter</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2</span> * radius;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">Circle::toString</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"Circle Object"</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Rectangle.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> RECTANGLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RECTANGLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"GeometricObject.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> : <span class="keyword">public</span> GeometricObject</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Rectangle</span>();</span><br><span class="line">	<span class="built_in">Rectangle</span>(<span class="type">double</span> width, <span class="type">double</span> height);</span><br><span class="line">	<span class="built_in">Rectangle</span>(<span class="type">double</span> width, <span class="type">double</span> height, <span class="type">const</span> string&amp; color, <span class="type">bool</span> filled);</span><br><span class="line">	~<span class="built_in">Rectangle</span>();</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getWidth</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">setWidth</span><span class="params">(<span class="type">double</span>)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getHeight</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">setHeight</span><span class="params">(<span class="type">double</span>)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">getPerimeter</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">string <span class="title">toString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">double</span> width;</span><br><span class="line">	<span class="type">double</span> height;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Rectangle.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Rectangle.h"</span></span></span><br><span class="line"></span><br><span class="line">Rectangle::<span class="built_in">Rectangle</span>()</span><br><span class="line">{</span><br><span class="line">	width = <span class="number">1</span>;</span><br><span class="line">	height = <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rectangle::<span class="built_in">Rectangle</span>(<span class="type">double</span> width, <span class="type">double</span> height)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">setWidth</span>(width);</span><br><span class="line">	<span class="built_in">setHeight</span>(height);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rectangle::<span class="built_in">Rectangle</span>(<span class="type">double</span> width, <span class="type">double</span> height, <span class="type">const</span> string&amp; color, <span class="type">bool</span> filled) </span><br><span class="line">	: <span class="built_in">GeometricObject</span>(color, filled)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">setWidth</span>(width);</span><br><span class="line">	<span class="built_in">setHeight</span>(height);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rectangle::~<span class="built_in">Rectangle</span>()</span><br><span class="line">{</span><br><span class="line">	cout &lt;&lt; <span class="string">"Rectangle Object destroyed!"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Rectangle::getWidth</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> width;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Rectangle::setWidth</span><span class="params">(<span class="type">double</span> width)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">this</span>-&gt;width = width &gt;= <span class="number">0</span> ? width : -width;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Rectangle::getHeight</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> height;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Rectangle::setHeight</span><span class="params">(<span class="type">double</span> height)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">this</span>-&gt;height = height &gt;= <span class="number">0</span> ? height : -height;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Rectangle::getArea</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> width * height;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Rectangle::getPerimeter</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2</span> * (width + height);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">Rectangle::toString</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"Rectangle Object"</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        main.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"GeometricObject.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Circle.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Rectangle.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayType1</span><span class="params">(<span class="type">const</span> GeometricObject obj)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; obj.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayType2</span><span class="params">(<span class="type">const</span> GeometricObject&amp; obj)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; obj.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayType3</span><span class="params">(<span class="type">const</span> GeometricObject* obj)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; obj-&gt;<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayObj</span><span class="params">(GeometricObject &amp;obj)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	GeometricObject* p = &amp;obj;</span><br><span class="line"></span><br><span class="line">	Circle* p1 = <span class="built_in">dynamic_cast</span>&lt;Circle*&gt;(p);</span><br><span class="line">	Rectangle* p2 = <span class="built_in">dynamic_cast</span>&lt;Rectangle*&gt;(p);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="built_in">typeid</span>(*p).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (p1 != <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; <span class="string">"radius: "</span> &lt;&lt; p1-&gt;<span class="built_in">getRadius</span>() &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (p2 != <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; <span class="string">"width: "</span> &lt;&lt; p2-&gt;<span class="built_in">getWidth</span>() &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">"height: "</span> &lt;&lt; p2-&gt;<span class="built_in">getHeight</span>() &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	GeometricObject obj;</span><br><span class="line">	obj.<span class="built_in">setColor</span>(<span class="string">"red"</span>);</span><br><span class="line">	obj.<span class="built_in">setFilled</span>(<span class="literal">true</span>);</span><br><span class="line">	cout &lt;&lt; obj.<span class="built_in">toString</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"color: "</span> &lt;&lt; obj.<span class="built_in">getColor</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"filled: "</span> &lt;&lt; obj.<span class="built_in">isFilled</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="function">Circle <span class="title">circle</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">	cout &lt;&lt; circle.<span class="built_in">toString</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"radius: "</span> &lt;&lt; circle.<span class="built_in">getRadius</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"area:"</span> &lt;&lt; circle.<span class="built_in">getArea</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"Perimeter: "</span> &lt;&lt; circle.<span class="built_in">getPerimeter</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"color: "</span> &lt;&lt; circle.<span class="built_in">getColor</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"filled: "</span> &lt;&lt; circle.<span class="built_in">isFilled</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="function">Rectangle <span class="title">rectangle</span><span class="params">(<span class="number">2</span>, <span class="number">3</span>, <span class="string">"blue"</span>, <span class="literal">true</span>)</span></span>;</span><br><span class="line">	cout &lt;&lt; rectangle.<span class="built_in">toString</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"width: "</span> &lt;&lt; rectangle.<span class="built_in">getWidth</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"height: "</span> &lt;&lt; rectangle.<span class="built_in">getHeight</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"area:"</span> &lt;&lt; rectangle.<span class="built_in">getArea</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"Perimeter: "</span> &lt;&lt; rectangle.<span class="built_in">getPerimeter</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"color: "</span> &lt;&lt; rectangle.<span class="built_in">getColor</span>() &lt;&lt; endl</span><br><span class="line">		&lt;&lt; <span class="string">"filled: "</span> &lt;&lt; rectangle.<span class="built_in">isFilled</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">displayType1</span>(obj);</span><br><span class="line">	<span class="built_in">displayType1</span>(circle);</span><br><span class="line">	<span class="built_in">displayType1</span>(rectangle);</span><br><span class="line">	<span class="built_in">displayType2</span>(obj);</span><br><span class="line">	<span class="built_in">displayType2</span>(circle);</span><br><span class="line">	<span class="built_in">displayType2</span>(rectangle);</span><br><span class="line">	<span class="built_in">displayType3</span>(&amp;obj);</span><br><span class="line">	<span class="built_in">displayType3</span>(&amp;circle);</span><br><span class="line">	<span class="built_in">displayType3</span>(&amp;rectangle);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"Area: "</span> &lt;&lt; circle.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"Perimeter: "</span> &lt;&lt; circle.<span class="built_in">getPerimeter</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"Area: "</span> &lt;&lt; rectangle.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"Perimeter: "</span> &lt;&lt; rectangle.<span class="built_in">getPerimeter</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">displayObj</span>(circle);</span><br><span class="line">	<span class="built_in">displayObj</span>(rectangle);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line">	GeometricObject* p = <span class="keyword">new</span> <span class="built_in">Circle</span>(<span class="number">5</span>);</span><br><span class="line">	<span class="keyword">delete</span> p;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="templates-vectors-stacks">Templates, Vectors, Stacks</span><a href="#templates-vectors-stacks" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="templates-basics">Templates Basics</span><a href="#templates-basics" class="header-anchor">#</a></h2>
<p>**Templates provide the capability to parameterize types in functions and classes. You can define functions or classes with generic types that can be substituted for concrete types by the compiler  **</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        max function implemented by template
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">maxValue</span><span class="params">(<span class="type">const</span> T&amp; value1, <span class="type">const</span> T&amp; value2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> value1 &gt; value2 ? value1 : value2;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// equals to these four overloading function</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">maxValue</span><span class="params">(<span class="type">int</span> value1, <span class="type">int</span> value2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (value1 &gt; value2)</span><br><span class="line">        <span class="keyword">return</span> value1;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> value2;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">maxValue</span><span class="params">(<span class="type">double</span> value1, <span class="type">double</span> value2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (value1 &gt; value2)</span><br><span class="line">        <span class="keyword">return</span> value1;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> value2;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">maxValue</span><span class="params">(<span class="type">char</span> value1, <span class="type">char</span> value2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (value1 &gt; value2)</span><br><span class="line">        <span class="keyword">return</span> value1;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> value2;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function">string <span class="title">maxValue</span><span class="params">(string value1, string value2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (value1 &gt; value2)</span><br><span class="line">        <span class="keyword">return</span> value1;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> value2;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><strong>Cautions:</strong><br>
The generic maxValue function can be used to return a maximum of two values of any type, provided that:</p>
<ul>
<li>The two values have the same type</li>
<li>The two values can be compared using the &gt; operator</li>
</ul>
<p>Occasionally, a template function may have more than one parameter. In this case, place the parameters together inside the brackets, separated by commas, such as <code>template&lt;typename T1, typename T2, typename T3&gt;</code></p>
<h2 tabindex="-1"><span id="class-templates">Class Templates</span><a href="#class-templates" class="header-anchor">#</a></h2>
<p>We use a improved stack class as example</p>
<p><img src="048d60a0b39a708cd5f76fbdb2dbdc5f.svg" alt="048d60a0b39a708cd5f76fbdb2dbdc5f"></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        stack implemented by template
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> IMPROVEDSTACK_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IMPROVEDSTACK_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T = <span class="type">int</span>&gt;` <span class="comment">// default type is int</span></span><br><span class="line"><span class="keyword">class</span> Stack</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Stack</span>();</span><br><span class="line">	<span class="built_in">Stack</span>(<span class="type">int</span> capacity);</span><br><span class="line">	<span class="built_in">Stack</span>(<span class="type">const</span> Stack&amp;);</span><br><span class="line">	~<span class="built_in">Stack</span>();</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">T <span class="title">peek</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(T value)</span></span>;</span><br><span class="line">	<span class="function">T <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getSize</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getCapacity</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	T* elements;</span><br><span class="line">	<span class="type">int</span> size;</span><br><span class="line">	<span class="type">int</span> capacity;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">ensureCapacity</span><span class="params">()</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">// template `&lt;typename T&gt;` must be put before the implementation</span></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line">Stack`&lt;T&gt;`::<span class="built_in">Stack</span>() : <span class="built_in">size</span>(<span class="number">0</span>), <span class="built_in">capacity</span>(<span class="number">16</span>) <span class="comment">// use Stack`&lt;T&gt;` rather than Stack</span></span><br><span class="line">{</span><br><span class="line">	elements = <span class="keyword">new</span> T[capacity];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line">Stack`&lt;T&gt;`::<span class="built_in">Stack</span>(<span class="type">int</span> capacity) : <span class="built_in">size</span>(<span class="number">0</span>)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">this</span>-&gt;capacity = capacity;</span><br><span class="line">	elements = <span class="keyword">new</span> T[capacity];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line">Stack`&lt;T&gt;`::<span class="built_in">Stack</span>(<span class="type">const</span> Stack&amp; stack)</span><br><span class="line">{</span><br><span class="line">	capacity = stack.capacity;</span><br><span class="line">	size = stack.size;</span><br><span class="line">	elements = <span class="keyword">new</span> T[capacity];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">	{</span><br><span class="line">		elements[i] = stack.elements[i];</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line">Stack`&lt;T&gt;`::~<span class="built_in">Stack</span>()</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">delete</span>[] elements;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line"><span class="type">bool</span> Stack`&lt;T&gt;`::<span class="built_in">empty</span>() <span class="type">const</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line">T Stack`&lt;T&gt;`::<span class="built_in">peek</span>() <span class="type">const</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> elements[size - <span class="number">1</span>];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line"><span class="type">void</span> Stack`&lt;T&gt;`::<span class="built_in">push</span>(T value)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">ensureCapacity</span>();</span><br><span class="line">	elements[size++] = value;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line">T Stack`&lt;T&gt;`::<span class="built_in">pop</span>()</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> elements[--size];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line"><span class="type">int</span> Stack`&lt;T&gt;`::<span class="built_in">getSize</span>() <span class="type">const</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> size;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line"><span class="type">void</span> Stack`&lt;T&gt;`::<span class="built_in">ensureCapacity</span>()</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">if</span> (size &gt;= capacity)</span><br><span class="line">	{</span><br><span class="line">		T* old = elements;</span><br><span class="line">		capacity = capacity * <span class="number">2</span>;</span><br><span class="line">		elements = <span class="keyword">new</span> T[capacity];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">		{</span><br><span class="line">			elements[i] = old[i];</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">delete</span>[] old;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> `&lt;<span class="keyword">typename</span> T&gt;`</span><br><span class="line"><span class="type">int</span> Stack`&lt;T&gt;`::<span class="built_in">getCapacity</span>() <span class="type">const</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> capacity;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// !IMPROVEDSTACK_H</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="vector-class">vector Class</span><a href="#vector-class" class="header-anchor">#</a></h2>
<p><strong>C++ provides the vector class, which is more flexible than arrays. You can use a vector object just like an array, but a vector’s size can grow automatically if needed.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Use vector class
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(vector&lt;vector&lt;T&gt; &gt; &amp;matrix)</span> <span class="comment">// a function to calculate the sum of a matrix</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	T result = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">unsigned</span> i = <span class="number">0</span>; i &lt; matrix.<span class="built_in">size</span>(); i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">unsigned</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].<span class="built_in">size</span>(); j++)</span><br><span class="line">		{</span><br><span class="line">			result += matrix[i][j];</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	vector &lt;<span class="type">int</span>&gt; intVector;</span><br><span class="line">	vector &lt;string&gt; <span class="built_in">stringVector</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"size of int vector: "</span> &lt;&lt; intVector.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"size of string vector: "</span> &lt;&lt; stringVector.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"capacity of int vector: "</span> &lt;&lt; intVector.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"capacity of string vector: "</span> &lt;&lt; stringVector.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	intVector.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	cout &lt;&lt; (intVector[<span class="number">0</span>] == intVector.<span class="built_in">at</span>(<span class="number">0</span>) ? <span class="string">"True"</span> : <span class="string">"False"</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	intVector.<span class="built_in">pop_back</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		intVector.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">		cout &lt;&lt; <span class="string">"size of int vector: "</span> &lt;&lt; intVector.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">"capacity of int vector: "</span> &lt;&lt; intVector.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*while (!intVector.empty())</span></span><br><span class="line"><span class="comment">	{</span></span><br><span class="line"><span class="comment">		cout &lt;&lt; intVector[intVector.size()] &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">		cout &lt;&lt; "size of int vector: " &lt;&lt; intVector.size() &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">		cout &lt;&lt; "capacity of int vector: " &lt;&lt; intVector.capacity() &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">		intVector.pop_back();</span></span><br><span class="line"><span class="comment">	}*/</span></span><br><span class="line"></span><br><span class="line">	vector &lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">swap</span>(intVector);</span><br><span class="line">	cout &lt;&lt; <span class="string">"size of int vector: "</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"capacity of int vector: "</span> &lt;&lt; v.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">unsigned</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; v.<span class="built_in">at</span>(i) &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	}</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	intVector.<span class="built_in">clear</span>();</span><br><span class="line">	cout &lt;&lt; <span class="string">"size of int vector: "</span> &lt;&lt; intVector.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"capacity of int vector: "</span> &lt;&lt; intVector.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"----------------------------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector &lt;vector &lt;<span class="type">int</span>&gt; &gt; <span class="built_in">matrix</span>(<span class="number">4</span>); <span class="comment">// use vector to create a matrix</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">unsigned</span> i = <span class="number">0</span>; i &lt; matrix.<span class="built_in">size</span>(); i++)</span><br><span class="line">	{</span><br><span class="line">		matrix[i] = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">3</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; matrix.<span class="built_in">size</span>(); i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].<span class="built_in">size</span>(); j++)</span><br><span class="line">		{</span><br><span class="line">			matrix[i][j] = (i + <span class="number">1</span>) * (j + <span class="number">1</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; matrix.<span class="built_in">size</span>(); i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].<span class="built_in">size</span>(); j++)</span><br><span class="line">		{</span><br><span class="line">			cout &lt;&lt; matrix[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		}</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"sum of matrix: "</span> &lt;&lt; <span class="built_in">sum</span>(matrix) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="operator-overloading">Operator Overloading</span><a href="#operator-overloading" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="the-rational-class-for-this-chapter">The Rational Class for this chapter</span><a href="#the-rational-class-for-this-chapter" class="header-anchor">#</a></h2>
<p>**In this chapter, we will overload several operators for using Rational class more conveniently. **<br>
And in this section, we implemented the Rational class without operator overloading first.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Rational.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> RATIONAL_H </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RATIONAL_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Rational</span>();</span><br><span class="line">    <span class="built_in">Rational</span>(<span class="type">int</span> numerator, <span class="type">int</span> denominator);</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getNumerator</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getDenominator</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function">Rational <span class="title">add</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function">Rational <span class="title">subtract</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function">Rational <span class="title">multiply</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function">Rational <span class="title">divide</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">compareTo</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">equals</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">intValue</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">doubleValue</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function">string <span class="title">toString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> numerator;</span><br><span class="line">    <span class="type">int</span> denominator;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> d)</span></span>;</span><br><span class="line">  </span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// !RATIONAL_H </span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Ratioanl.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Rational.h"</span></span></span><br><span class="line"></span><br><span class="line">Rational::<span class="built_in">Rational</span>()</span><br><span class="line">{</span><br><span class="line">    numerator = <span class="number">0</span>;</span><br><span class="line">    denominator = <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational::<span class="built_in">Rational</span>(<span class="type">int</span> numerator, <span class="type">int</span> denominator)</span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> factor = <span class="built_in">gcd</span>(numerator, denominator);</span><br><span class="line">    <span class="keyword">this</span>-&gt;numerator = numerator / factor * (denominator &gt;= <span class="number">0</span> ? <span class="number">1</span> : <span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">this</span>-&gt;denominator = <span class="built_in">abs</span>(denominator) / factor;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::getNumerator</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> numerator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::getDenominator</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> denominator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::gcd</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    n = <span class="built_in">abs</span>(n);</span><br><span class="line">    d = <span class="built_in">abs</span>(d);</span><br><span class="line">    <span class="type">int</span> factor = <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= d &amp;&amp; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (d % i == <span class="number">0</span> &amp;&amp; n % i == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            factor = i;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> factor;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::add</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> d;</span><br><span class="line">  </span><br><span class="line">    n = numerator * secondRational.<span class="built_in">getDenominator</span>() + denominator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line">    d = denominator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::subtract</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> d;</span><br><span class="line">  </span><br><span class="line">    n = numerator * secondRational.<span class="built_in">getDenominator</span>() - denominator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line">    d = denominator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::multiply</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> d;</span><br><span class="line">  </span><br><span class="line">    n = numerator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line">    d = denominator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::divide</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> d;</span><br><span class="line">  </span><br><span class="line">    n = numerator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line">    d = denominator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::compareTo</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">double</span> v1 = <span class="keyword">this</span>-&gt;<span class="built_in">doubleValue</span>();</span><br><span class="line">    <span class="type">double</span> v2 = secondRational.<span class="built_in">doubleValue</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (v1 &gt; v2)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (v1 &lt; v2)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Rational::equals</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">compareTo</span>(secondRational) == <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::intValue</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> numerator / denominator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Rational::doubleValue</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span>* numerator / denominator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">Rational::toString</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    stringstream ss;</span><br><span class="line">    ss &lt;&lt; numerator;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (denominator &gt; <span class="number">1</span>)</span><br><span class="line">        ss &lt;&lt; <span class="string">"/"</span> &lt;&lt; denominator;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> ss.<span class="built_in">str</span>();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="operator-functions">Operator functions</span><a href="#operator-functions" class="header-anchor">#</a></h2>
<p>**If we want to compare two Rational objects, we can use the member function <strong><code>compareTo</code></strong>, but overloading <strong><code>&lt;</code></strong>, <strong><code>&gt;</code></strong>, <strong><code>&lt;=</code></strong>, **<code>&gt;=</code><strong>is more conveniently.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload &lt; operator
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// write in the defination of the Rational class</span></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> Rational&amp; secondRational) <span class="type">const</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// write in the Rational.cpp</span></span><br><span class="line"><span class="type">bool</span> Rational::<span class="keyword">operator</span>&lt;(<span class="type">const</span> Rational&amp; secondRational) <span class="type">const</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">compareTo</span>(secondRational) &lt; <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>**We can overload <strong><code>+</code></strong>, <strong><code>-</code></strong>, <strong><code>*</code></strong>, **<code>/</code><strong>to make calculate Rational objects more conveniently.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload +
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Rational <span class="keyword">operator</span>+(<span class="type">const</span> Rational&amp; secondRational) <span class="type">const</span>;</span><br><span class="line"></span><br><span class="line">Rational Rational::<span class="keyword">operator</span>+(<span class="type">const</span> Rational&amp; secondRational) <span class="type">const</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">add</span>(secondRational);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><img src="1659754782510-97b83287-1fd3-40bf-9691-736f7c5b5094.png" alt="image.png"></p>
<p><strong>Notes:</strong></p>
<ul>
<li>C++ allows to overload the operators in Table 14.1, but does not allow to create new operators.</li>
<li>We cannot change the operator precedence and associativity by overloading</li>
<li>Most operator are binary operators. Some are unary. We cannot change the number of operands by overloading.</li>
</ul>
<h2 tabindex="-1"><span id="overloading-the-subscript-operator">Overloading the Subscript Operator</span><a href="#overloading-the-subscript-operator" class="header-anchor">#</a></h2>
<p>**The subscript operator **<code>[]</code><strong>is commonly defined to access and modify a data field or an element in an object.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload []
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// wrong overloading</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Rational r1(2, 3);</span></span><br><span class="line"><span class="comment">cout &lt;&lt; r1[0] &lt;&lt; r1[1] &lt;&lt; endl; // ok</span></span><br><span class="line"><span class="comment">r1[0] = 5; // nope!</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">int</span> <span class="keyword">operator</span>[](<span class="type">int</span> index);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Rational::<span class="keyword">operator</span>[](<span class="type">int</span> index)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span>(index == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> numerator;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> denominator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// correct overloading</span></span><br><span class="line"><span class="type">int</span>&amp; <span class="keyword">operator</span>[](<span class="type">int</span> index);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>&amp; Rational::<span class="keyword">operator</span>[](<span class="type">int</span> index)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span>(index == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> numerator;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> denominator;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>In C++, Lvalue (left value) refers to anything that can appear on the left side of the assignment operator (<code>=</code>) and Rvalue (right value) refers to anything that can appear ont the right side of the assignment operator.</p>
<p>If we want to overload a Lvalue operator, we should use return-by-reference.</p>
<h2 tabindex="-1"><span id="overloading-augmented-assignment-operator">Overloading Augmented Assignment Operator</span><a href="#overloading-augmented-assignment-operator" class="header-anchor">#</a></h2>
<p>**For augmented assignment operators <strong>(<code>+=</code></strong>, <strong><code>-=</code></strong>, <strong><code>*=</code></strong>, **<code>/=</code> and <code>%=</code>) **are Lvalue operators. We can define the augmented assignment operators as functions to return a value by reference.  **</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload +=
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Rational&amp; <span class="keyword">operator</span>+=(<span class="type">const</span> Rational&amp; secondRational);</span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>+=(<span class="type">const</span> Rational&amp; secondRational)</span><br><span class="line">{</span><br><span class="line">    *<span class="keyword">this</span> = <span class="built_in">add</span>(secondRational);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="overloading-the-unary-operator">Overloading the Unary Operator</span><a href="#overloading-the-unary-operator" class="header-anchor">#</a></h2>
<p><strong>The unary <code>+</code> and <code>–</code> operators can be overloaded. Since the unary operator operates on the  one operand that is the calling object itself, the unary function operator has no parameters.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload unary operator -
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Rational <span class="keyword">operator</span>-();</span><br><span class="line"></span><br><span class="line">Rational Rational::<span class="keyword">operator</span>-()</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Rational</span>(-numerator, denominator);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="overloading-the-and-operator">Overloading the ++ and – Operator</span><a href="#overloading-the-and-operator" class="header-anchor">#</a></h2>
<p><strong>The  <code>++</code> and <code>--</code> operator may be prefix or postfix, and the methods of overloading prefix <code>++</code>/<code>--</code> and postfix <code>++</code>/<code>--</code> are different.</strong></p>
<p>Prefix <code>++</code>/<code>--</code> is Lvalue operator, so it should return by reference.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload prefix ++
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Rational&amp; <span class="keyword">operator</span>++();</span><br><span class="line"></span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>++()</span><br><span class="line">{</span><br><span class="line">    numerator += denominator;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>Postfix <code>++</code>/<code>--</code> are defined with a special dummy parameter of the int type. So when we operator postfix <code>++</code>/<code>--</code> the function should have an int type dummy parameter. And Prefix <code>++</code>/<code>--</code> operator function do not have parameters.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload postfix ++
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Rational <span class="keyword">operator</span>++(<span class="type">int</span>);</span><br><span class="line"></span><br><span class="line">Ratioanl Rational::<span class="keyword">operator</span>++(<span class="type">int</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="function">Rational <span class="title">temp</span><span class="params">(numerator, denominator)</span></span>;</span><br><span class="line">    numerator += denominator;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="overloading-the-stream-operator">Overloading the Stream Operator</span><a href="#overloading-the-stream-operator" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="friend-functions-and-friend-classes">friend Functions and friend Classes</span><a href="#friend-functions-and-friend-classes" class="header-anchor">#</a></h3>
<p><strong><code>&lt;&lt;</code> and <code>&gt;&gt;</code> must be implemented as <code>friend</code>nonmember functions. So we learn <code>friend</code>function and <code>friend</code> class first.</strong></p>
<p>We can define a <strong><code>friend</code></strong> function or a <strong><code>friend</code></strong> class to enable it to access private members in another class.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        friend class demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Date</span>()</span><br><span class="line">    {</span><br><span class="line">        year = <span class="number">2000</span>;</span><br><span class="line">        month = <span class="number">1</span>;</span><br><span class="line">        day = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">AccessDate</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">    <span class="type">int</span> month;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AccessDate</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">p</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="function">Date <span class="title">birthDate</span><span class="params">()</span></span>;</span><br><span class="line">        birthDate.year = <span class="number">2001</span>;</span><br><span class="line">        cout &lt;&lt; birthDate.year &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    AccessDate::<span class="built_in">p</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        friend function demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Date</span>()</span><br><span class="line">    {</span><br><span class="line">        year = <span class="number">2000</span>;</span><br><span class="line">        month = <span class="number">1</span>;</span><br><span class="line">        day = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">p</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        Date date;</span><br><span class="line">        date.year = <span class="number">2022</span>;</span><br><span class="line">        cout &lt;&lt; date.year &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">    <span class="type">int</span> month;</span><br><span class="line">    <span class="type">int</span> day;   </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">p</span>();</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="overloading-lt-lt-and-gt-gt">Overloading &lt;&lt; and &gt;&gt;</span><a href="#overloading-lt-lt-and-gt-gt" class="header-anchor">#</a></h3>
<p><strong>The stream extraction (</strong><code>&gt;&gt;</code><strong>) and insertion (</strong><code>&lt;&lt;</code>**) operators can be overloaded for performing input and output operations. **</p>
<p>If we want to display a <code>Rational</code> object <code>r</code>, we will use:</p>
<p><code>cout &lt;&lt; r.toString() &lt;&lt; endl;</code></p>
<p>Wouldn’t it be nice to be able to display <code>r</code> like the following?</p>
<p><code>cout &lt;&lt; r &lt;&lt; endl;</code></p>
<p>But we cannot overload the <code>&lt;&lt;</code> operator as a member function for two operands <code>cout</code> is an instance of <code>ostream</code> class, not <code>Rational</code> class.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload &lt;&lt;
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span></span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, <span class="type">const</span> Rational&amp; rational);</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, <span class="type">const</span> Rational&amp; rational)</span><br><span class="line">{</span><br><span class="line">    out &lt;&lt; rational.<span class="built_in">toString</span>();</span><br><span class="line">    <span class="comment">// out &lt;&lt; rational.numerator &lt;&lt; "/" &lt;&lt; rational.denominator;</span></span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>Similarly, we can overload <code>&gt;&gt;</code> like the following</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload &gt;&gt;
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span></span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">    <span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; in, <span class="type">const</span> Rational&amp; rational);</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; in, <span class="type">const</span> Rational&amp; rational)</span><br><span class="line">{</span><br><span class="line">    cout &lt;&lt; <span class="string">"Enter Numerator: "</span>;</span><br><span class="line">    in &gt;&gt; rational.numerator;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; <span class="string">"Enter Denominator: "</span>;</span><br><span class="line">    in &gt;&gt; rational.denominator;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> in;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="automatic-type-conversions">Automatic Type Conversions</span><a href="#automatic-type-conversions" class="header-anchor">#</a></h2>
<p><strong>You can define functions to perform automatic conversion from an object to a primitive type value and vice versa.</strong></p>
<p>C++ can perform certain type conversion automatically. For example, in <code>4 + 5.5</code>, C++ convert 4 to 4.0 first.</p>
<p>If we want to convert a <code>Rational</code> object to a double value. Here is the implementation.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        convert Rational object to double
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">operator</span> <span class="title">double</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Rational::<span class="keyword">operator</span> <span class="title">double</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">doubleValue</span>();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>And if we want to convert a <code>int</code> variable to <code>Rational</code> number. We may use the following code.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        convert int variable to Rational object
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Rational</span>(<span class="type">int</span> numerator);</span><br><span class="line"></span><br><span class="line">Rational::<span class="built_in">Rational</span>(<span class="type">int</span> numerator)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">this</span>-&gt;numerator = numerator;</span><br><span class="line">    denominator = <span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>A class can define the conversion function to convert an object to a primitive type value or define a conversion constructor to convert a primitive type value to an object, but not both simultaneously in the class. If both are defined, the compiler will report an ambiguity error.</p>
<h2 tabindex="-1"><span id="nonmember-functions-for-overloading-operators">Nonmember Functions for Overloading Operators</span><a href="#nonmember-functions-for-overloading-operators" class="header-anchor">#</a></h2>
<p>**If an operator can be overloaded as a nonmember function, define it as a nonmember function to enable implicit type conversions.  **</p>
<p>In previous sections, we implemented <code>r1 + 4</code>, but we cannot calculate <code>4 + r1</code>, because the left operand is the calling object for the <code>+</code> operator and the left operand must be a <code>Rational</code> object.<br>
To solve this problem, we may use the following code.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        nonmember function for overload +
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Rational</span>(<span class="type">int</span> numerator); <span class="comment">// write in the class defination</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// This constructor enables the integer to be converted to a Rational object</span></span><br><span class="line">Rational::<span class="built_in">Rational</span>(<span class="type">int</span> numerator)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">this</span>-&gt;numerator = numerator;</span><br><span class="line">    denominator = <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational <span class="keyword">operator</span>+(<span class="type">const</span> Ratioanl&amp; r1, <span class="type">const</span> Rational&amp; r2); <span class="comment">// write in the outside of the class</span></span><br><span class="line"></span><br><span class="line">Rational <span class="keyword">operator</span>+(<span class="type">const</span> Ratioanl&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">return</span> r1.<span class="built_in">add</span>(r2);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="overloading-the-operators">Overloading the = Operators</span><a href="#overloading-the-operators" class="header-anchor">#</a></h2>
<p><strong>You need to overload the <code>=</code> operator to perform a customized copy operation for an object.</strong></p>
<p>The behavior of the operator is the same as the copy constructor, both of these should be implemented explicitly if a data field in the class is a pointe that points to a dynamic generated array or object.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        overload =
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Course</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">  </span><br><span class="line">    <span class="type">const</span> Course&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Course&amp; course);</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string courseName;</span><br><span class="line">    stirng* students;</span><br><span class="line">    <span class="type">int</span> capacity;</span><br><span class="line">    <span class="type">int</span> numerOfStudents;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> Course&amp; Course::<span class="keyword">operator</span>=(<span class="type">const</span> Course&amp; course)</span><br><span class="line">{</span><br><span class="line">    courseaName = course.courseName;</span><br><span class="line">    numberOfStudents = course.numberOfStudents;</span><br><span class="line">    capacity = course.capacity;</span><br><span class="line">    students = <span class="keyword">new</span> string[capacity];</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="the-rational-class-with-overloaded-function-operators">The Rational Class with Overloaded Function Operators</span><a href="#the-rational-class-with-overloaded-function-operators" class="header-anchor">#</a></h2>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Rational.h
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> RATIONAL_H </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RATIONAL_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Rational</span>();</span><br><span class="line">	<span class="built_in">Rational</span>(<span class="type">int</span> numerator, <span class="type">int</span> denominator);</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getNumerator</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getDenominator</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">Rational <span class="title">add</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">Rational <span class="title">subtract</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">Rational <span class="title">multiply</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">Rational <span class="title">divide</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">compareTo</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">equals</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">intValue</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">double</span> <span class="title">doubleValue</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function">string <span class="title">toString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// overloaded operators</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Lvalue operators</span></span><br><span class="line">	<span class="type">int</span>&amp; <span class="keyword">operator</span>[](<span class="type">int</span> index);</span><br><span class="line">	Rational&amp; <span class="keyword">operator</span>+=(<span class="type">const</span> Rational&amp; secondRatioanl);</span><br><span class="line">	Rational&amp; <span class="keyword">operator</span>-=(<span class="type">const</span> Rational&amp; secondRatioanl);</span><br><span class="line">	Rational&amp; <span class="keyword">operator</span>*=(<span class="type">const</span> Rational&amp; secondRatioanl);</span><br><span class="line">	Rational&amp; <span class="keyword">operator</span>/=(<span class="type">const</span> Rational&amp; secondRatioanl);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// unary operators</span></span><br><span class="line">	Rational <span class="keyword">operator</span>+();</span><br><span class="line">	Rational <span class="keyword">operator</span>-();</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// prefix ++/--</span></span><br><span class="line">	Rational&amp; <span class="keyword">operator</span>++();</span><br><span class="line">	Rational&amp; <span class="keyword">operator</span>--();</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// postfix ++/--</span></span><br><span class="line">	Rational <span class="keyword">operator</span>++(<span class="type">int</span>);</span><br><span class="line">	Rational <span class="keyword">operator</span>--(<span class="type">int</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// stream operator</span></span><br><span class="line">	<span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, <span class="type">const</span> Rational&amp; rational);</span><br><span class="line">	<span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; in, Rational&amp; rational);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// convertion function</span></span><br><span class="line">	<span class="built_in">Rational</span>(<span class="type">int</span> numerator);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> numerator;</span><br><span class="line">	<span class="type">int</span> denominator;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> d)</span></span>;</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">// nonmember operator functions</span></span><br><span class="line">Rational <span class="keyword">operator</span>+(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line">Rational <span class="keyword">operator</span>-(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line">Rational <span class="keyword">operator</span>*(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line">Rational <span class="keyword">operator</span>/(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="built_in">operator</span>&lt;(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&gt;(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&lt;=(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&gt;=(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>!=(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// !RATIONAL_H </span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Rational.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Rational.h"</span></span></span><br><span class="line"></span><br><span class="line">Rational::<span class="built_in">Rational</span>()</span><br><span class="line">{</span><br><span class="line">	numerator = <span class="number">0</span>;</span><br><span class="line">	denominator = <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational::<span class="built_in">Rational</span>(<span class="type">int</span> numerator, <span class="type">int</span> denominator)</span><br><span class="line">{</span><br><span class="line">	<span class="type">int</span> factor = <span class="built_in">gcd</span>(numerator, denominator);</span><br><span class="line">	<span class="keyword">this</span>-&gt;numerator = numerator / factor * (denominator &gt;= <span class="number">0</span> ? <span class="number">1</span> : <span class="number">-1</span>);</span><br><span class="line">	<span class="keyword">this</span>-&gt;denominator = <span class="built_in">abs</span>(denominator) / factor;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::getNumerator</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> numerator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::getDenominator</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> denominator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::gcd</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	n = <span class="built_in">abs</span>(n);</span><br><span class="line">	d = <span class="built_in">abs</span>(d);</span><br><span class="line">	<span class="type">int</span> factor = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= d &amp;&amp; i &lt;= n; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (d % i == <span class="number">0</span> &amp;&amp; n % i == <span class="number">0</span>)</span><br><span class="line">		{</span><br><span class="line">			factor = i;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> factor;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::add</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="type">int</span> d;</span><br><span class="line"></span><br><span class="line">	n = numerator * secondRational.<span class="built_in">getDenominator</span>() + denominator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line">	d = denominator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::subtract</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="type">int</span> d;</span><br><span class="line"></span><br><span class="line">	n = numerator * secondRational.<span class="built_in">getDenominator</span>() - denominator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line">	d = denominator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::multiply</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="type">int</span> d;</span><br><span class="line"></span><br><span class="line">	n = numerator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line">	d = denominator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">Rational <span class="title">Rational::divide</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="type">int</span> d;</span><br><span class="line"></span><br><span class="line">	n = numerator * secondRational.<span class="built_in">getDenominator</span>();</span><br><span class="line">	d = denominator * secondRational.<span class="built_in">getNumerator</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Rational</span>(n, d);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::compareTo</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">double</span> v1 = <span class="keyword">this</span>-&gt;<span class="built_in">doubleValue</span>();</span><br><span class="line">	<span class="type">double</span> v2 = secondRational.<span class="built_in">doubleValue</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (v1 &gt; v2)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (v1 &lt; v2)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Rational::equals</span><span class="params">(<span class="type">const</span> Rational&amp; secondRational)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">compareTo</span>(secondRational) == <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Rational::intValue</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> numerator / denominator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Rational::doubleValue</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1.0</span>* numerator / denominator;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">Rational::toString</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	stringstream ss;</span><br><span class="line">	ss &lt;&lt; numerator;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (denominator &gt; <span class="number">1</span>)</span><br><span class="line">		ss &lt;&lt; <span class="string">"/"</span> &lt;&lt; denominator;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> ss.<span class="built_in">str</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>&amp; Rational::<span class="keyword">operator</span>[](<span class="type">int</span> index)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">if</span> (index == <span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> numerator;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> denominator;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>+=(<span class="type">const</span> Rational&amp; secondRational)</span><br><span class="line">{</span><br><span class="line">	*<span class="keyword">this</span> = <span class="built_in">add</span>(secondRational);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>-=(<span class="type">const</span> Rational&amp; secondRational)</span><br><span class="line">{</span><br><span class="line">	*<span class="keyword">this</span> = <span class="built_in">subtract</span>(secondRational);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>*=(<span class="type">const</span> Rational&amp; secondRational)</span><br><span class="line">{</span><br><span class="line">	*<span class="keyword">this</span> = <span class="built_in">multiply</span>(secondRational);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>/=(<span class="type">const</span> Rational&amp; secondRational)</span><br><span class="line">{</span><br><span class="line">	*<span class="keyword">this</span> = <span class="built_in">divide</span>(secondRational);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational Rational::<span class="keyword">operator</span>+()</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Rational</span>(numerator, denominator);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational Rational::<span class="keyword">operator</span>-()</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Rational</span>(-numerator, denominator);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>++()</span><br><span class="line">{</span><br><span class="line">	numerator += denominator;</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational Rational::<span class="keyword">operator</span>++(<span class="type">int</span>)</span><br><span class="line">{</span><br><span class="line">	<span class="function">Rational <span class="title">temp</span><span class="params">(numerator, denominator)</span></span>;</span><br><span class="line">	numerator += denominator;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational&amp; Rational::<span class="keyword">operator</span>--()</span><br><span class="line">{</span><br><span class="line">	numerator -= denominator;</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational Rational::<span class="keyword">operator</span>--(<span class="type">int</span>)</span><br><span class="line">{</span><br><span class="line">	<span class="function">Rational <span class="title">temp</span><span class="params">(numerator, denominator)</span></span>;</span><br><span class="line">	numerator -= denominator;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, <span class="type">const</span> Rational&amp; rational)</span><br><span class="line">{</span><br><span class="line">	out &lt;&lt; rational.<span class="built_in">toString</span>();</span><br><span class="line">	<span class="keyword">return</span> out;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; in, Rational&amp; rational)</span><br><span class="line">{</span><br><span class="line">	cout &lt;&lt; <span class="string">"Enter Numerator: "</span>;</span><br><span class="line">	in &gt;&gt; rational.numerator;</span><br><span class="line">	cout &lt;&lt; <span class="string">"Enter Denominator: "</span>;</span><br><span class="line">	in &gt;&gt; rational.denominator;</span><br><span class="line"></span><br><span class="line">	<span class="function">Rational <span class="title">r</span><span class="params">(rational.numerator, rational.denominator)</span></span>;</span><br><span class="line">	rational.numerator = r.numerator;</span><br><span class="line">	rational.denominator = r.denominator;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> in;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational::<span class="built_in">Rational</span>(<span class="type">int</span> numerator)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">this</span>-&gt;numerator = numerator;</span><br><span class="line">	denominator = <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational <span class="keyword">operator</span>+(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">add</span>(r2);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational <span class="keyword">operator</span>-(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">subtract</span>(r2);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational <span class="keyword">operator</span>*(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">multiply</span>(r2);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Rational <span class="keyword">operator</span>/(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">divide</span>(r2);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">compareTo</span>(r2) &lt; <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&gt;(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">compareTo</span>(r2) &gt; <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&lt;=(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">compareTo</span>(r2) &lt;= <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&gt;=(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">compareTo</span>(r2) &gt;= <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">equals</span>(r2) == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>!=(<span class="type">const</span> Rational&amp; r1, <span class="type">const</span> Rational&amp; r2)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">return</span> r1.<span class="built_in">equals</span>(r2) == <span class="literal">false</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TestRationalClass.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Rational.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="function">Rational <span class="title">r1</span><span class="params">(<span class="number">2</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">	<span class="function">Rational <span class="title">r2</span><span class="params">(<span class="number">4</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; <span class="string">"Test functions: "</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r2.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">intValue</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r2.<span class="built_in">intValue</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">doubleValue</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r2.<span class="built_in">doubleValue</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; (r1.<span class="built_in">add</span>(r2)).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1.<span class="built_in">subtract</span>(r2)).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1.<span class="built_in">multiply</span>(r2)).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1.<span class="built_in">divide</span>(r2)).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">compareTo</span>(r2) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">equals</span>(r2) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"-------------------------------"</span> &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    cout &lt;&lt; <span class="string">"Test operator functions"</span> &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    Rational r3;</span><br><span class="line">	cin &gt;&gt; r3;</span><br><span class="line">	cout &lt;&lt; r3 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; r1 + <span class="number">0.5</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="number">2</span> - r1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="number">1</span> + r1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1 * <span class="number">3</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="number">3</span> / r1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; ((<span class="number">3</span> &gt; r1) ? <span class="string">"true"</span> : <span class="string">"false"</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; ((<span class="number">10</span> &lt; r1) ? <span class="string">"true"</span> : <span class="string">"false"</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; ((<span class="number">2</span> &gt;= r2) ? <span class="string">"true"</span> : <span class="string">"false"</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; ((<span class="number">3</span> &lt;= r2) ? <span class="string">"true"</span> : <span class="string">"false"</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; ((<span class="number">2</span> == r2) ? <span class="string">"true"</span> : <span class="string">"false"</span>) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; ((<span class="number">3</span> != r2) ? <span class="string">"true"</span> : <span class="string">"false"</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; r1[<span class="number">0</span>] &lt;&lt; <span class="string">" "</span> &lt;&lt; r1[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r2[<span class="number">0</span>] &lt;&lt; <span class="string">" "</span> &lt;&lt; r2[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; (r1 += r2) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1 -= r2) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1 *= r2)  &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1 /= r2) &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; (-r1).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1++).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (++r1).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (r1--).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (--r1).<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; r1.<span class="built_in">toString</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="note-points-for-operator-overloading">Note Points for Operator Overloading</span><a href="#note-points-for-operator-overloading" class="header-anchor">#</a></h2>
<p>**The preceding sections introduced how to overload function operators. The following points are worth noting:  **</p>
<ul>
<li>**Conversion functions: **
<ul>
<li>Conversion funcitons from a class type to a primitive type or from a primitive type to a class type cannot both be defined in the same class. Doing so would cause ambiguity errors, because the compiler cannot decide which conversion to perform. Often converting from a primitive type to a class type is more useful. So, we will define our Rational class to support automatic conversion from a primitive type to the Rational type.</li>
</ul>
</li>
<li>**Member or nonmember functions: **
<ul>
<li>Most operators can be overloaded either as member or nonmember functions. However, the <code>=</code>, <code>[]</code>, <code>-&gt;</code>, and <code>()</code> operators must be overloaded as member functions and &lt;&lt; and &gt;&gt; operators must be overloaded as nonmember functions.</li>
<li>If an operator (i.e., <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code>, <code>&gt;</code>, and <code>&gt;=</code>) can be implemented either as a member or nonmember function, it is better to overload it as a nonmember function to enable automatic type conversion with symmetric operands.</li>
</ul>
</li>
<li><strong>Lvalue:</strong>
<ul>
<li>If you want the returned object to be used as an <strong>Lvalue</strong> (i.e., used on the left-hand side of the assignment statement), you need to define the function to return a reference. The augmented assignment operators <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, and <code>%=</code>, the prefix <code>++</code> and <code>--</code>operators, the subscript operator <code>[]</code>, and the assignment operators <code>=</code> are Lvalue operators.</li>
</ul>
</li>
</ul>
<hr>
<h1 tabindex="-1"><span id="file-input-and-output">File Input and Output</span><a href="#file-input-and-output" class="header-anchor">#</a></h1>
<p>C++ provides the <code>ifstream</code>, <code>ofstream</code>, and <code>fstream</code> classes for processing and manipulating files. These classes are defined in the <code>&lt;fstream&gt;</code> header file.</p>
<h2 tabindex="-1"><span id="text-i-o">Text I/O</span><a href="#text-i-o" class="header-anchor">#</a></h2>
<h3 tabindex="-1"><span id="writing-data-to-file">Writing Data to File</span><a href="#writing-data-to-file" class="header-anchor">#</a></h3>
<p>The <code>ofstream</code> class can be used to write primitive data-type values, arrays, strings, and objects to a text file.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TextFileOutput.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// Create a file</span></span><br><span class="line">    ofstream output;</span><br><span class="line">    output.<span class="built_in">open</span>(<span class="string">"score.txt"</span>);</span><br><span class="line">    <span class="comment">// equals to</span></span><br><span class="line">    <span class="comment">// ofstream output("score.txt");</span></span><br><span class="line"></span><br><span class="line">    output &lt;&lt; <span class="string">"Zhang San"</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; <span class="number">90</span> &lt;&lt; endl;</span><br><span class="line">    output &lt;&lt; <span class="string">"Lisi"</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; <span class="number">87</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// close the file</span></span><br><span class="line">    output.<span class="built_in">close</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li>If a <strong>file already exists</strong>, its contents will be destroyed without warning!</li>
<li>The directory separator should be “\” e.g <code>output.open("D:\\example.txt");</code></li>
<li>It is better to use a <strong>relative file name</strong> rather than  <strong>absolute file name</strong>.</li>
</ul>
<h3 tabindex="-1"><span id="reading-data-from-file">Reading Data from File</span><a href="#reading-data-from-file" class="header-anchor">#</a></h3>
<p>The <code>ifstream</code> class can be used to read data from a text file.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TextFileInput.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">ifstream <span class="title">input</span><span class="params">(<span class="string">"score.txt"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> score;</span><br><span class="line"></span><br><span class="line">    input &gt;&gt; name &gt;&gt; score;</span><br><span class="line">    cout &lt;&lt; name &lt;&lt; score &lt;&lt; endl;</span><br><span class="line">    input &gt;&gt; name &gt;&gt; score;</span><br><span class="line">    cout &lt;&lt; name &lt;&lt; score &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    input.<span class="built_in">close</span>()</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li>To read data correctly, we need to know exactly how data are stored.</li>
</ul>
<h3 tabindex="-1"><span id="testing-file-existence">Testing File Existence</span><a href="#testing-file-existence" class="header-anchor">#</a></h3>
<p>If the file does not exist when reading a file, the program will run and produce incorrect results. We can invoke the <code>fail()</code> function immediately after invoking the <code>open</code> function. If <code>fail()</code> returns <code>true</code>, it indicates that the file does not exist.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TestingFileExistence.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">"score.txt"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (input.<span class="built_in">fail</span>())</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"File does not exist!"</span> &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        in.<span class="built_in">close</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">"File exists."</span> &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="testing-end-of-file">Testing End of File</span><a href="#testing-end-of-file" class="header-anchor">#</a></h3>
<p>We can invoke the <code>eof()</code> function on the input object to detect the end of file.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TestingEndOfFile.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">ifstream <span class="title">input</span><span class="params">(<span class="string">"score.txt"</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="type">double</span> sum </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="type">double</span> score;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">while</span>(!input.<span class="built_in">eof</span>())</span><br><span class="line">    {</span><br><span class="line">        input &gt;&gt; score;</span><br><span class="line">        <span class="keyword">if</span>(input.<span class="built_in">eof</span>()) <span class="keyword">break</span>;</span><br><span class="line">        sum += score;</span><br><span class="line">        count++;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// equals to</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        while(input &gt;&gt; score)</span></span><br><span class="line"><span class="comment">        {</span></span><br><span class="line"><span class="comment">            sum += score;</span></span><br><span class="line"><span class="comment">            count++;</span></span><br><span class="line"><span class="comment">        }</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; sum / count &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    input.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li>The statement <code>input &gt;&gt; score</code> is actually invoke an operator function. The function returns an object if a number is read, otherwise it returns NULL</li>
</ul>
<h3 tabindex="-1"><span id="letting-the-user-enter-a-file-name">Letting the User Enter a File name</span><a href="#letting-the-user-enter-a-file-name" class="header-anchor">#</a></h3>
<p>The file name passed to the input and output stream constructor or the <code>open</code> function must be a C-string in the standard C++. So we must use <code>c_str()</code> function in the <code>string</code> class is invoked to return a C-string from <code>string</code> object.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        demo.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string filename;</span><br><span class="line">    cout &lt;&lt; <span class="string">"Enter a file name: "</span>;</span><br><span class="line">    cin &gt;&gt; filename;</span><br><span class="line"></span><br><span class="line">    <span class="function">ofstream <span class="title">out</span><span class="params">(filename.c_str())</span></span>;</span><br><span class="line"></span><br><span class="line">    out &lt;&lt; <span class="string">"Hello World!"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    out.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="formatting-output">Formatting Output</span><a href="#formatting-output" class="header-anchor">#</a></h2>
<p><strong>The stream manipulators can be used to format console output as well as file output.</strong><br>
We can include <code>&lt;iomanip&gt;</code> to manipulate output in file.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        WriteFormattedData.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#incldue <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#inlcude <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ofstream output;</span><br><span class="line"></span><br><span class="line">    output &lt;&lt; <span class="built_in">setw</span>(<span class="number">6</span>) &lt;&lt; <span class="string">"John"</span> &lt;&lt; <span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; <span class="string">"T"</span> &lt;&lt; <span class="built_in">setw</span>(<span class="number">4</span>) &lt;&lt; <span class="number">87</span> &lt;&lt; endl;</span><br><span class="line">  </span><br><span class="line">    output.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="getline-get-and-put">getline, get and put</span><a href="#getline-get-and-put" class="header-anchor">#</a></h2>
<p>The <code>getline</code> function can be used to read a string that includes whitespace characters and the <code>get</code>/<code>put</code> function can be used to read and write a single character.</p>
<p><strong>Syntax</strong></p>
<ul>
<li><code>getline(ifstream&amp; input, string s, char delimitChar);</code></li>
</ul>
<p>The function stops reading characters when the delimiter character or <code>eof</code> is encountered. The <code>delimitChar</code> has a default value <code>"\n"</code>. The <code>getline</code> function is defined in the <code>iostream</code>.</p>
<ul>
<li><code>get();</code> or <code>get(char&amp; ch);</code></li>
</ul>
<p>The <strong>first version</strong> <strong>returns a character</strong> from the input. The <strong>second version</strong> passes a character reference argument, reads a character from the input, and stores it in ch. This function <strong>also returns the reference to the input object</strong> <strong>being used</strong>.</p>
<ul>
<li><code>put(char ch)</code></li>
</ul>
<h2 tabindex="-1"><span id="fstream-and-file-open-modes">fstream and File Open Modes</span><a href="#fstream-and-file-open-modes" class="header-anchor">#</a></h2>
<p>We can use <code>fstream</code> to create a file object for both input and output.</p>
<p>It is convenient to use <code>fstream</code> if a program needs to use the same stream object for both input and output. To open an <code>fstream</code> file, you have to specify a file open mode to tell C++ how the file will be used.</p>
<img src="1660670710878-4364d4b8-270a-429a-b1d7-cf6726a37aa6.png" alt="image.png" style="zoom: 80%;">
<ul>
<li>Some of the file modes also can be used with <code>ifstream </code> and <code>ofstream</code> objects to open a file. For example, you may use the <code>ios:app</code> mode to open a file with an <code>ofstream</code> object so that you can append data to the file. However, <strong>for</strong> <strong>consistency and simplicity</strong>, **it is better to use the file modes with the **<code>fstream</code> objects.</li>
<li>Several modes can be combined using the <code>|</code> operator. This is a bitwise inclusive-OR operator**. For example, to open an output file named city.txt for appending data, we can use the following statement: <code>stream.open("city.txt", ios::out | ios::app);</code>.</li>
</ul>
<h2 tabindex="-1"><span id="testing-stream-states">Testing Stream States</span><a href="#testing-stream-states" class="header-anchor">#</a></h2>
<p>The functions <code>eof()</code>, <code>fail()</code>, <code>good()</code>, and <code>bad()</code> can be used to test the states of stream operations.</p>
<img src="1660670467023-4cf87b87-a44a-4dbd-9960-1e372677b8de.png" alt="image.png" style="zoom:80%;">
<img src="1660670493522-3561e6ce-1492-42cd-95a8-6a25211366fa.png" alt="image.png" style="zoom:80%;">
<h2 tabindex="-1"><span id="binary-i-o">Binary I/O</span><a href="#binary-i-o" class="header-anchor">#</a></h2>
<p>The <code>ios::binary</code> mode can be used to open a file for binary input and output.<br>
Computers do not differentiate binary files and text files. All files are stored in binary format, and thus all files are essentially binary files. Text I/O is built upon binary I/O to provide a level of abstraction for character encoding and decoding.</p>
<h3 tabindex="-1"><span id="the-write-function">The write Function</span><a href="#the-write-function" class="header-anchor">#</a></h3>
<p><strong>syntax:</strong></p>
<p><code>streamObject.write(const char* s, int size);</code> So we should pass standard C-string into <code>write</code> function.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        BinaryCharOutput.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">fstream <span class="title">binaryio</span><span class="params">(<span class="string">"data.dat"</span>, ios::out | ios::binary)</span></span>;</span><br><span class="line">    string s = <span class="string">"Hello"</span>;</span><br><span class="line">    binaryio.<span class="built_in">write</span>(s.<span class="built_in">c_str</span>(), s.<span class="built_in">size</span>());</span><br><span class="line">    binaryio.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>Often we need to write data other than characters. We can use <code>reinterpret_cast</code> operator to <strong>cast any pointer type of unrelated classes</strong>. It simply performs a binary copy of the value from one type to the other without altering the data.</p>
<p>syntax: <code>reinterpret_cast&lt;dataType*&gt;(address);</code> And in this case, the dataType is <code>char*</code></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        BinaryIntOutput.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">fstream <span class="title">binaryio</span><span class="params">(<span class="string">"data.dat"</span>, ios::out | ios::binary)</span></span>;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">199</span>;</span><br><span class="line">    binaryio.<span class="built_in">write</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(&amp;num), <span class="built_in">sizeof</span>(num));</span><br><span class="line">    binaryio.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h3 tabindex="-1"><span id="the-read-function">The read Function</span><a href="#the-read-function" class="header-anchor">#</a></h3>
<p>**syntax: **</p>
<p><code>streamObject.read(char* address, int size);</code></p>
<p>The <code>size</code> parameter indicates the maximum number of bytes read. The actual number of bytes read can be obtained from a member function <code>gcount</code>.</p>
<p>We can also use <code>reinterpret_cast</code> to cast bytes into types not char</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        BinaryIntInput.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">fstream <span class="title">binaryio</span><span class="params">(<span class="string">"data.dat"</span>, ios::in | ios::binary)</span></span>;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    binaryio.<span class="built_in">read</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(&amp;num), <span class="built_in">sizeof</span>(num));</span><br><span class="line">    cout &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">    binaryio.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="random-access-file">Random Access File</span><a href="#random-access-file" class="header-anchor">#</a></h2>
<p>The functions <code>seekg()</code> and <code>seekp()</code> can be used to move file pointer to any position in a random-access file for input and output.</p>
<p>The <code>seekp("seek put")</code> function is <strong>for the output stream</strong>, and the <code>seekg("seek get")</code>function is <strong>for the input stream</strong>. Each function has two versions with <strong>one argument or two arguments</strong>.</p>
<ul>
<li>
<p>With one argument, the argument is the absolut location.</p>
<p><code>input.seekg(0);</code></p>
<p><code>output.seekp(0);</code></p>
</li>
<li>
<p>With two arguments, the <strong>first argument</strong> is a long integer that <strong>indicates an offset</strong>, and the <strong>second argument</strong>, known as the <strong>seek base</strong>, specifies where to calculate the offset from. The following are three possible seek base arguments.</p>
</li>
</ul>
<p><img src="1660673248010-0ac305f4-19e4-48ab-b4fb-44cfb71ca861.png" alt="image.png"></p>
<p><strong>Examples：</strong></p>
<img src="1660673303647-77023f0d-44bd-43e8-9b55-8d22722e7b60.png" alt="1660673303647-77023f0d-44bd-43e8-9b55-8d22722e7b60.png" style="zoom:80%;">
<p>We can also use <code>tellp</code> and <code>tellg</code> functions to return the position of the file pointer in the file.</p>
<h2 tabindex="-1"><span id="updating-files">Updating Files</span><a href="#updating-files" class="header-anchor">#</a></h2>
<p>We can update a binary file by opening a file using the mode <code>ios::in | ios:out | ios::binary</code>.<br>
Often we need to update the contents of the file. You can open a file for both input and output.</p>
<p>For example: <code>binaryio.open("data.dat"), ios::in | ios::out | ios::binary);</code></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        UpdatingFile.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Student.h"</span> <span class="comment">// Define the Student Class</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">const</span> Student&amp; student)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// details omitted</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    fstream binaryio;</span><br><span class="line">    binaryio.<span class="built_in">open</span>(<span class="string">"student.dat"</span>, ios::in | ios::out | ios::binary);</span><br><span class="line"></span><br><span class="line">    Student stu1;</span><br><span class="line">    binaryio.<span class="built_in">seekg</span>(<span class="built_in">sizeof</span>(Student));</span><br><span class="line">    binaryio.<span class="built_in">read</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(&amp;stu1), <span class="built_in">sizeof</span>(Student));</span><br><span class="line">    <span class="comment">// initial name is Zhang San</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">display</span>(stu1);</span><br><span class="line"></span><br><span class="line">    stu1.<span class="built_in">setName</span>(<span class="string">"Li si"</span>);</span><br><span class="line">    binaryio.<span class="built_in">seekp</span>(<span class="built_in">sizeof</span>(Student));</span><br><span class="line">    binaryio.<span class="built_in">write</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(&amp;stu1), <span class="built_in">sizeof</span>(Student));</span><br><span class="line"></span><br><span class="line">    Student stu2;</span><br><span class="line">    binaryio.<span class="built_in">seekg</span>(<span class="built_in">sizeof</span>(Student));</span><br><span class="line">    binaryio.<span class="built_in">read</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(&amp;stu2));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">display</span>(stu2);</span><br><span class="line"></span><br><span class="line">    binaryio.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<hr>
<h1 tabindex="-1"><span id="exception-handling">Exception Handling</span><a href="#exception-handling" class="header-anchor">#</a></h1>
<h2 tabindex="-1"><span id="overview">Overview</span><a href="#overview" class="header-anchor">#</a></h2>
<p>An exception is thrown using a <code>throw</code> statement and caught in a <code>try-catch</code> block.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        QuotientWithException.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"Enter two integers: "</span>;</span><br><span class="line">	<span class="type">int</span> n1, n2;</span><br><span class="line"></span><br><span class="line">	cin &gt;&gt; n1 &gt;&gt; n2;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">try</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (n2 == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">throw</span> n1;</span><br><span class="line"></span><br><span class="line">		cout &lt;&lt; n1 &lt;&lt; <span class="string">" / "</span> &lt;&lt; n2 &lt;&lt; <span class="string">" = "</span> &lt;&lt; n1 / n2 &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">catch</span>(<span class="type">int</span> ex)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; n1 &lt;&lt; <span class="string">" cannot divided by zero"</span> &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>The <code>try</code> block contains the code that is executed in normal circumstances. The <code>catch</code> block contains the code that is executed when <code>n2</code> is zero. When <code>n2</code> is zero, the program throws an exception by executing <code>throw n1</code>. However, after the catch block has been executed, the program control does not return to the throw statement; instead, it executes the next statement after the catch block.</p>
<p>If you are not interested in the contents of an exception object, the catch block parameter may be omitted.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        catch block which parameter be omitted
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">catch</span>(<span class="type">int</span>)</span><br><span class="line">{</span><br><span class="line">    cout &lt;&lt; <span class="string">"Error occurred"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="advantages-of-excpetion-handling">Advantages of Excpetion-Handling</span><a href="#advantages-of-excpetion-handling" class="header-anchor">#</a></h2>
<p><strong>Exception handling enables the caller of the function to process the exception thrown from a function.</strong></p>
<p>Without this capability, a function must handle the exception or terminate the program. Often, the called function does not know what to do in case of error. This is typically the case for the library function. The library function can detect the error, but only the caller knows what needs to be done when an error occurs. The fundamental idea of exception handling is to <strong>separate error detection</strong> <strong>(done in a called function) from error handling (done in the calling function)</strong>.</p>
<h2 tabindex="-1"><span id="exception-classes">Exception Classes</span><a href="#exception-classes" class="header-anchor">#</a></h2>
<p><strong>You can use C++ standard exception classes to create exception objects and throw exceptions.</strong><br>
The catch block parameter in the preceding examples is the int type.  A class type is often more useful.</p>
<img src="1660399673414-5c81c522-d853-476f-b88e-74cb9cb9fdab.jpeg" alt="1660399673414-5c81c522-d853-476f-b88e-74cb9cb9fdab.jpeg" style="zoom: 67%;">
<p>The root class in this hierarchy is <code>exception</code>（defined in header <code>&lt;exception&gt;</code>）. It contains the virtual function <code>what()</code> that returns an exception object’s error message.</p>
<p>The runtime_error class (defined in header <code>&lt;exception&gt;</code>) is a base class for several standard exception classes that describes runtime errors.</p>
<p>The logic_error class (defined in header <code>&lt;stdexcept&gt;</code> ) is a base class for several standard exception classes that describes logic errors.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        QuotientThrowRuntimeError.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">quotient</span><span class="params">(<span class="type">int</span> n1, <span class="type">int</span> n2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (n2 == <span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">"Divisor cannot be zero!"</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> n1 / n2;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"Enter two integers: "</span>;</span><br><span class="line">	<span class="type">int</span> n1, n2;</span><br><span class="line"></span><br><span class="line">	cin &gt;&gt; n1 &gt;&gt; n2;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> result = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">try</span></span><br><span class="line">	{</span><br><span class="line">		result = <span class="built_in">quotient</span>(n1, n2);</span><br><span class="line">		cout &lt;&lt; n1 &lt;&lt; <span class="string">" / "</span> &lt;&lt; n2 &lt;&lt; <span class="string">" = "</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">catch</span>(runtime_error &amp;ex)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; ex.<span class="built_in">what</span>() &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; result &lt;&lt; endl; </span><br><span class="line">        <span class="comment">// if result is defined in try block, it is best not to visit result!</span></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        InvalidArgumentExceptionDemo.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">(<span class="type">double</span> radius)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(radius &lt; <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">throw</span> <span class="built_in">invalid_argument</span>(<span class="string">"Radius cannot be negative"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> radius * radius * <span class="number">3.14159</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    cout &lt;&lt; <span class="string">"Enter radius: "</span>;</span><br><span class="line">    <span class="type">double</span> radius;</span><br><span class="line">    cin &gt;&gt; radius;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    {</span><br><span class="line">        <span class="type">double</span> result = <span class="built_in">getArea</span>(radius);</span><br><span class="line">        cout &lt;&lt; <span class="string">"The area is "</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">catch</span>(exception&amp; ex)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; ex.<span class="built_in">what</span>() &lt;&lt; endl;  </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="custom-exception-classes">Custom Exception Classes</span><a href="#custom-exception-classes" class="header-anchor">#</a></h2>
<p><strong>You can define custom exception classes to model exceptions that cannot be adequately represented using C++ standard exception classes.</strong><br>
If we run into a problem that cannot be adequately described by the standard exception classes, we can create our own exception class. This class is just like any C++ class, but often it is desirable to derive it from <strong><code>exception</code></strong> or a derived class of <code>exception</code> so we can use the <code>what()</code> funtion.<br>
The following is an example defining exception class <code>TriangleException</code> for the <code>Triangle</code> class.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Triangle.hpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> TRIANGLE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TRIANGLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"TriangleException.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Triangle</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Triangle</span>()</span><br><span class="line">	{</span><br><span class="line">		side1 = side2 = side3 = <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="built_in">Triangle</span>(<span class="type">double</span> side1, <span class="type">double</span> side2, <span class="type">double</span> side3)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">isValid</span>(side1, side2, side3))</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">throw</span> <span class="built_in">TriangleException</span>(side1, side2, side3);</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>-&gt;side1 = side1;</span><br><span class="line">		<span class="keyword">this</span>-&gt;side2 = side2;</span><br><span class="line">		<span class="keyword">this</span>-&gt;side3 = side3;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getSide1</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> side1;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getSide2</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> side2;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getSide3</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> side3;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">setSide1</span><span class="params">(<span class="type">double</span> side1)</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">isValid</span>(side1, side2, side3))</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">throw</span> <span class="built_in">TriangleException</span>(side1, side2, side3);</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>-&gt;side1 = side1;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">setSide2</span><span class="params">(<span class="type">double</span> side2)</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">isValid</span>(side1, side2, side3))</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">throw</span> <span class="built_in">TriangleException</span>(side1, side2, side3);</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>-&gt;side2 = side2;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">setSide3</span><span class="params">(<span class="type">double</span> side3)</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">isValid</span>(side1, side2, side3))</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">throw</span> <span class="built_in">TriangleException</span>(side1, side2, side3);</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>-&gt;side3 = side3;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getArea</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="type">double</span> p = (side1 + side2 + side3) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">sqrt</span>(p * (p - side1) * (p - side2) * (p - side3));</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getPerimeter</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> (side1 + side2 + side3) / <span class="number">2</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">double</span> side1, side2, side3;</span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">isValid</span><span class="params">(<span class="type">double</span> side1, <span class="type">double</span> side2, <span class="type">double</span> side3)</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> ((side1 + side2) &gt; side3) &amp;&amp; ((side1 + side3) &gt; side2) &amp;&amp; ((side3 + side2) &gt; side1);</span><br><span class="line">	}</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// !TRIANGLE_H</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TriangleException.hpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> TRIANGLEEXCEPTION_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TRIANGLEEXCEPTION_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TriangleException</span> : <span class="keyword">public</span> logic_error <span class="comment">// derived from logic_error class</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">TriangleException</span>(<span class="type">double</span> side1, <span class="type">double</span> side2, <span class="type">double</span> side3) : <span class="built_in">logic_error</span>(<span class="string">"Invalid Triangle"</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">this</span>-&gt;side1 = side1;</span><br><span class="line">		<span class="keyword">this</span>-&gt;side2 = side2;</span><br><span class="line">		<span class="keyword">this</span>-&gt;side3 = side3;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getSide1</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> side1;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getSide2</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> side2;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getSide3</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> side3;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">double</span> side1, side2, side3;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// !TRIANGLEEXCEPTION_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        testTriangleException.cpp
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Triangle.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"TriangleException.hpp"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"Enter three sides of a triangle: "</span>;</span><br><span class="line">	<span class="type">double</span> s1, s2, s3;</span><br><span class="line">	cin &gt;&gt; s1 &gt;&gt; s2 &gt;&gt; s3;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">try</span></span><br><span class="line">	{</span><br><span class="line">		<span class="function">Triangle <span class="title">t</span><span class="params">(s1, s2, s3)</span></span>;</span><br><span class="line">		cout &lt;&lt; t.<span class="built_in">getArea</span>() &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">catch</span> (TriangleException&amp; ex)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; ex.<span class="built_in">what</span>() &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">"Three sides of the invalid triangle are: "</span> </span><br><span class="line">			&lt;&lt; ex.<span class="built_in">getSide1</span>() &lt;&lt; <span class="string">" "</span> &lt;&lt; ex.<span class="built_in">getSide2</span>() &lt;&lt; <span class="string">" "</span> &lt;&lt; ex.<span class="built_in">getSide3</span>() &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>A custom exception class is just like a regular class. Extending from a base class is not necessary, but <strong>it is a good practice to extend from the standard exception or a derived class of exception</strong> so your custom exception class <strong>can use the functions from the standard classes</strong>.</p>
<h2 tabindex="-1"><span id="multiple-catches">Multiple Catches</span><a href="#multiple-catches" class="header-anchor">#</a></h2>
<p><strong>A try-catch block may contain multiple catch clauses to deal with different exceptions thrown in the try clause.</strong><br>
One  <code>catch</code> block can catch only one type of exception. C++ allows we to add mutiple <code>catch</code> block after a <code>try</code> block in order to catch multiple types of exceptions.<br>
<strong>Note</strong></p>
<ul>
<li>Various exception classes can be derived from a common base class. If a catch block catches exception objects of a <strong>base class</strong>, it can catch all the exception objects of the <strong>derived classes</strong> of that base class.</li>
<li>The order in which exceptions are specified in <code>catch</code> blocks is important. A <code>catch</code> block for a base class type should appear after a <code>catch</code> block for a derived class type. Otherwise, the exception of a derived class is always caught by the catch block for the base class!</li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        wrong order and correct order
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// wrong order</span></span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span>(logic_error&amp; ex)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span>(TriangleException&amp; ex)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// correct order</span></span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span>(TriangleException&amp; ex)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span>(logic_error&amp; ex)</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>You may use an ellipsis <code>(...)</code> as the parameter of <code>catch</code>, which will catch any exception no matter what the type of the exception that was thrown. This can be used as a default handler that catches all exceptions not caught by other handlers if it is specified last.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        default handler demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// Execute some code here</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span> (Exception1&amp; ex1) </span><br><span class="line">{</span><br><span class="line">    cout &lt;&lt; <span class="string">"Handle Exception1"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span> (Exception2&amp; ex2) </span><br><span class="line">{</span><br><span class="line">    cout &lt;&lt; <span class="string">"Handle Exception2"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span> (...)</span><br><span class="line">{</span><br><span class="line">    cout &lt;&lt; <span class="string">"Handle all other exceptions"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="exception-propagation">Exception Propagation</span><a href="#exception-propagation" class="header-anchor">#</a></h2>
<p><strong>An exception is thrown through a chain of calling functions until it is caught or it reaches to the main function.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        try-catch block
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// Statements that may throw exceptions</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span> (Exception1&amp; ex1) </span><br><span class="line">{</span><br><span class="line">    <span class="comment">// handler for exception1;</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span> (Exception2&amp; ex2) </span><br><span class="line">{ </span><br><span class="line">    <span class="comment">// handler for exception2;</span></span><br><span class="line">}</span><br><span class="line">...</span><br><span class="line"><span class="built_in">catch</span> (ExceptionN&amp; exN) </span><br><span class="line">{</span><br><span class="line">    <span class="comment">// handler for exceptionN;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li>If no exceptions arise during the execution of the <code>try</code> block, the <code>catch</code> block are skipped.</li>
<li>If one of the statements inside the <code>try</code> block throws an exception, C++ skips the remaining statements in the <code>try</code> block and starts the process of finding the code to handle the exception.
<ul>
<li>Each <code>catch</code> block is examined in trun, from first to last, to see whether the type of the exception object is an instance of the exception class in the <code>catch</code> block.</li>
<li>If one <code>catch</code> block is matched, the code in the <code>catch</code> block is executed.</li>
<li>If no handle is found, C++ exits this function, passes the exception to the function that invoked the function, and continues the same process to find a handler.</li>
<li>If no handler is found in the chain of functions being invoked, the program prints an error message on the console and terminates.</li>
</ul>
</li>
</ul>
<img src="1660485527531-320f7dd1-fcbf-4fb8-bdea-c42e2941b9b5.png" alt="1660485527531-320f7dd1-fcbf-4fb8-bdea-c42e2941b9b5.png" style="zoom: 80%;">
<ul>
<li>If the exception type is <strong>Exception3</strong>, it is caught by the catch block for handling exception ex3 in function2. statement5 is skipped, and statement6 is executed.</li>
<li>If the exception type is <strong>Exception2</strong>, function2 is aborted, the control is returned to function1, and the exception is caught by the catch block for handling exception ex2 in function1. statement3 is skipped, and statement4 is executed.</li>
<li>If the exception type is <strong>Exception1</strong>, function1 is aborted, the control is returned to the main function, and the exception is caught by the catch block for handling exception ex1 in the main function. statement1 is skipped, and statement2 is executed.</li>
<li>If the exception is <strong>not caught</strong> in function2, function1, and main, the program terminates. statement1 and statement2 are not executed.</li>
</ul>
<h2 tabindex="-1"><span id="rethrowing-exceptions">Rethrowing Exceptions</span><a href="#rethrowing-exceptions" class="header-anchor">#</a></h2>
<p><strong>After an exception is caught, it can be rethrown to the caller of the function.</strong></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        syntax of rethrowing exceptions
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// statements;</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">catch</span> (TheException&amp; ex) </span><br><span class="line">{</span><br><span class="line">    <span class="comment">// perform operations before exits;</span></span><br><span class="line">    <span class="keyword">throw</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>The statement <code>throw </code>rethrows the exception so that other handlers get a chance to process it.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        rethrow exceptions demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">f1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">"Exception in f1"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">catch</span>(exception&amp; ex)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Exception caught in function f1"</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; ex.<span class="built_in">what</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">throw</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">f1</span>();</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">catch</span>(exception&amp; ex)</span><br><span class="line">    {</span><br><span class="line">        cout &lt;&lt; <span class="string">"Exception caught in function main"</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; ex.<span class="built_in">what</span>() &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 tabindex="-1"><span id="exception-specification">Exception Specification</span><a href="#exception-specification" class="header-anchor">#</a></h2>
<p><strong>You can declare potential exceptions a function may throw in the function header.</strong><br>
An exception specification, also known as throw list, lists exceptions that a function can throw. So far, we have seen the function defined without a throw list. In this case, the function can throw any exception. So, it is tempting to omit exception specification. However, this is not a good practice.</p>
<p><strong>A function should give warning of any exceptions it might throw</strong>. So that programmers can write robust program to deal with these potential exceptions in a <code>try-catch</code> block.</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        syntax for exception specification
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">returnType <span class="title">functionName</span><span class="params">(parameterList)</span> <span class="title">throw</span> <span class="params">(exceptionList)</span></span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        exception specification demo
    </div>
    <div class="spoiler-content">
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Triangle</span>(<span class="type">double</span> side1, <span class="type">double</span> side2, <span class="type">double</span> side3) </span><br><span class="line">    <span class="keyword">throw</span> (NonPositiveSideException, TriangleException)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">check</span>(side1); <span class="comment">// throws NonPositiveSideException</span></span><br><span class="line">    <span class="built_in">check</span>(side2);</span><br><span class="line">    <span class="built_in">check</span>(side3);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">isValid</span>(side1, side2, side3))</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">throw</span> <span class="built_in">TriangleException</span>(side1, side2, side3);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>-&gt;side1 = side1;</span><br><span class="line">    <span class="keyword">this</span>-&gt;side2 = side2;</span><br><span class="line">    <span class="keyword">this</span>-&gt;side3 = side3;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

    </div>
</div>
<ul>
<li>If a function attempts to throw an exception. A standard C++ function <code>unexpected</code> is invoked, which normally terminates the program.</li>
<li>If a function specifies <code>bad_exception</code> in its throw list, the function will throw a <code>bad_exception</code> if an unspecified exception is throw from the function.</li>
</ul>
<h2 tabindex="-1"><span id="when-to-use-exceptions">When to use Exceptions</span><a href="#when-to-use-exceptions" class="header-anchor">#</a></h2>
<p><strong>Use exceptions for exceptional circumstances, not for simple logic errors that can be caught easily using an if statement.</strong><br>
Exception handling <strong>separates error-handling code from normal programming tasks</strong>, thus making programs <strong>easier to read and to modify</strong>. Be aware, however, that exception handling usually <strong>requires more time and resources</strong>, because it requires instantiating a new exception object, rolling back the call stack, and propagating the exception through the chain of functions invoked to search for the handler.</p>
<table>
<thead>
<tr>
<th><strong>Use exception handling ✔️</strong></th>
<th><strong>Do not using exception handling ❌</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>We want the exception to be processed by its caller</td>
<td>We can handle the exception in the function where it occurs</td>
</tr>
<tr>
<td>Common exceptions that may occur in multiple classes</td>
<td>Simple errors that may occur in individual functions</td>
</tr>
<tr>
<td>Dealing with unexpected error conditions</td>
<td>Dealing with simple, expected situations</td>
</tr>
</tbody>
</table>
<p><strong>A general paradigm</strong> for exception handling is that yo</p>
<p>u declare to <strong>throw an exception</strong> in a function as shown in (a) below, and use the function in a <strong>try-catch block</strong> as shown in (b).</p>
<img src="1660490538058-0aac7662-cef1-4bdc-b653-21c4e2dff87f.png" alt="1660490538058-0aac7662-cef1-4bdc-b653-21c4e2dff87f.png" style="zoom:67%;">
<hr>
<p><strong>--------------------The End------------------</strong></p>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/markdown-it-texmath/css/texmath.min.css">
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></p><div class="tip">本文采用CC-BY-SA-3.0协议，转载请注明出处<br>作者: 核子</div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2023-03-02</span><a class="tag" href="/categories/C/" title="C++">C++ </a><i class="fa fa-tag"></i><a class="tag" href="/tags/C/" title="C++">C++ </a><span class="leancloud_visitors"></span><span>大约14519个字, 48分钟23秒读完</span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/intent/tweet?text=%E5%88%86%E4%BA%AB%E6%96%87%E7%AB%A0%EF%BC%9A%0A%0A%E6%A0%B8%E5%AD%90%E7%9A%84Blog%20%C2%B7%20%E3%80%8AIntroduction%20to%20Programming%20with%20C++%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%0Ahttp://hezj-opt.github.io/C/Cpp/Cpp98/Introduction%20to%20Programming%20with%20C++%20%E5%95%83%E4%B9%A6%E8%AE%B0%E5%BD%95/%0A"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/Deep-Learning/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95/" title="深度学习论文阅读记录">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E5%BF%AB%E7%85%A7%E5%8E%8B%E7%BC%A9%E6%88%90%E5%83%8F/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E5%BF%AB%E7%85%A7%E5%8E%8B%E7%BC%A9%E6%88%90%E5%83%8F/%E5%BF%AB%E7%85%A7%E5%8E%8B%E7%BC%A9%E6%88%90%E5%83%8F%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95/" title="快照压缩成像论文阅读记录">下一篇</a></li></ul></div><script src="/js/visitors.js"></script><a id="comments"></a><div id="gitalk_container" style="padding:10px"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>const gitalk = new Gitalk({
    clientID: '75fa8f8526b947111419',
    clientSecret: '28a1006aeebc5fe3d2e6d838846fa202d3362fd0',
    repo: 'comments',      // The repository of store comments,
    owner: 'hezj-opt',
    admin: ['hezj-opt'],
    id: '《Introduction to Programming with C++》读书笔记',      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
})
gitalk.render('gitalk_container')
</script><div id="gitalk-container" style="padding-left: 50px;padding-right: 50px;padding-bottom: 70px"></div><script>var gitalk = new Gitalk({
clientID: "",
clientSecret: "",
repo: "comments",
owner: "hezj-opt",
admin:  [""],
id: md5(decodeURI(location.pathname)),      // Ensure uniqueness and length less than 50
language: 'zh-CN' 
})
gitalk.render('gitalk-container')</script></div></div></div></div><script src="/js/darkLightToggle.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script>(function(window){var INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(无标题)",},CONTENT_URL:"/content.json",};window.INSIGHT_CONFIG=INSIGHT_CONFIG})(window);</script><script src="/js/insight.js" defer></script><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close"><a class="fa fa-times-circle" onclick="closeWindow();"></a></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"><p>Seraching...</p></div></div></div></div><script src="/js/baidu-tongji.js"></script><!-- hexo injector body_end start --><script src="/js/hexo-widget-tree.js"></script><div id="widget-tree">
      <ul>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">
          环境配置
        </a>
      <span class="tree-list-count">1</span><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/hexo%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98/" title="hexo配置问题"><i class="post-icon gg-file-document"></i>hexo配置问题</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/Deep-Learning/">
          Deep Learning
        </a>
      <span class="tree-list-count">18</span><ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
          李宏毅机器学习
        </a>
      <span class="tree-list-count">17</span><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-Why-Deep-Learning/" title="李宏毅机器学习-Why Deep Learning?"><i class="post-icon gg-file-document"></i>李宏毅机器学习-Why Deep Learning?</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-hw3-CNN-%E6%80%BB%E7%BB%93/" title="李宏毅机器学习-hw3-CNN-总结"><i class="post-icon gg-file-document"></i>李宏毅机器学习-hw3-CNN-总结</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect4-Self-attention/" title="李宏毅机器学习-lect4 Self attention"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect4 Self attention</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect6-GAN/" title="李宏毅机器学习-lect6 GAN"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect6 GAN</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect3-CNN/" title="李宏毅机器学习-lect3 CNN"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect3 CNN</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect5-Transformer/" title="李宏毅机器学习-lect5 Transformer"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect5 Transformer</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect7-Self-Supervised-Learning/" title="李宏毅机器学习-lect7 Self-Supervised Learning"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect7 Self-Supervised Learning</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%AD%E7%BB%83%E4%BC%9A%E5%A4%B1%E8%B4%A5/" title="李宏毅机器学习-为什么训练会失败"><i class="post-icon gg-file-document"></i>李宏毅机器学习-为什么训练会失败</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect8-Auto-encoder/" title="李宏毅机器学习-lect8 Auto-encoder"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect8 Auto-encoder</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect9-Explainable-ML/" title="李宏毅机器学习-lect9 Explainable ML"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect9 Explainable ML</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect11-Domain-Adaptation/" title="李宏毅机器学习-lect11 Domain Adaptation"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect11 Domain Adaptation</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect10-Adversarial-Attack/" title="李宏毅机器学习-lect10 Adversarial Attack"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect10 Adversarial Attack</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect12-Reinforcement-Learning/" title="李宏毅机器学习-lect12 Deep Reinforcement Learning"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect12 Deep Reinforcement Learning</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect13-Network-Compression/" title="李宏毅机器学习-lect13 Network Compression"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect13 Network Compression</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect14-Life-Long-Learning/" title="李宏毅机器学习-lect14 Life Long Learning"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect14 Life Long Learning</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-lect15-Meta-Learning/" title="李宏毅机器学习-lect15 Meta Learning"><i class="post-icon gg-file-document"></i>李宏毅机器学习-lect15 Meta Learning</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%90%84%E5%BC%8F%E5%90%84%E6%A0%B7%E7%9A%84%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6/" title="李宏毅机器学习-各式各样的注意力机制"><i class="post-icon gg-file-document"></i>李宏毅机器学习-各式各样的注意力机制</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/Deep-Learning/%E6%89%8B%E6%90%93%E8%AE%B0%E5%BD%95/">
          手搓记录
        </a>
      <span class="tree-list-count">1</span><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/Deep-Learning/%E6%89%8B%E6%90%93%E8%AE%B0%E5%BD%95/%E8%AE%B0%E6%89%8B%E6%90%93ResNet%E7%9A%84%E7%BB%8F%E5%8E%86/" title="记手搓ResNet的经历"><i class="post-icon gg-file-document"></i>记手搓ResNet的经历</a></li></ul></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">
          论文阅读
        </a>
      <span class="tree-list-count">2</span><ul class="tree-list-children">
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E5%BF%AB%E7%85%A7%E5%8E%8B%E7%BC%A9%E6%88%90%E5%83%8F/">
          快照压缩成像
        </a>
      <span class="tree-list-count">1</span><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E5%BF%AB%E7%85%A7%E5%8E%8B%E7%BC%A9%E6%88%90%E5%83%8F/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E5%BF%AB%E7%85%A7%E5%8E%8B%E7%BC%A9%E6%88%90%E5%83%8F/%E5%BF%AB%E7%85%A7%E5%8E%8B%E7%BC%A9%E6%88%90%E5%83%8F%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95/" title="快照压缩成像论文阅读记录"><i class="post-icon gg-file-document"></i>快照压缩成像论文阅读记录</a></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/Deep-Learning/">
          Deep Learning
        </a>
      <span class="tree-list-count">1</span><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/Deep-Learning/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E8%AE%B0%E5%BD%95/" title="深度学习论文阅读记录"><i class="post-icon gg-file-document"></i>深度学习论文阅读记录</a></li></ul></li></ul></li>
      <li class="tree-list-item">
        <i class="toggle-post-icon gg-folder-add"></i>
        <a class="tree-list-link" href="/categories/C/">
          C++
        </a>
      <span class="tree-list-count">1</span><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/C/Cpp/Cpp98/Introduction%20to%20Programming%20with%20C++%20%E5%95%83%E4%B9%A6%E8%AE%B0%E5%BD%95/" title="《Introduction to Programming with C++》读书笔记"><i class="post-icon gg-file-document"></i>《Introduction to Programming with C++》读书笔记</a></li></ul></li></ul>
        <div id="widget-tree-button">
          <i class="gg-chevron-right"></i>
        </div>
      </div><!-- hexo injector body_end end --></body></html>